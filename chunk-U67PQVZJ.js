import{a as D,b as V,c as B,d as F,e as H,f as J}from"./chunk-NGN4PAU3.js";import{b as K}from"./chunk-5D6YPN3T.js";import{a as $,b as q,c as G}from"./chunk-UJ7VPDOE.js";import{b as X}from"./chunk-XLI345ZL.js";import{a as U}from"./chunk-A3V564SZ.js";import"./chunk-GGQ7LRWG.js";import{a as z}from"./chunk-5Z2H6K7H.js";import"./chunk-ZN66PTI3.js";import{c as T,d as j,f as g,g as N}from"./chunk-NQP6NLRO.js";import"./chunk-SCUZIYM3.js";import"./chunk-HRQB4EEZ.js";import"./chunk-GED64AQA.js";import"./chunk-Z4D3JJEG.js";import{a as A,b as R}from"./chunk-ENKIQ3XX.js";import"./chunk-K2DA6FBL.js";import{T as E,Z as I}from"./chunk-LVPX6TEL.js";import"./chunk-P6PSD35X.js";import{c as O,d as S,e as y,f as w,h as L}from"./chunk-L73FSOJZ.js";import{$a as x,Ab as _,Cb as f,Eb as C,Gc as h,Ia as b,La as r,Ob as v,Pa as l,Rc as k,Sb as n,Ub as P,Wa as M,ja as d,ka as p,qb as m,rb as t,sb as e,tb as s}from"./chunk-WZIMFKHB.js";function Z(a,i){if(a&1&&(t(0,"span",26),n(1),e()),a&2){let o=C();r(),P(" ",o.unreadCount," ")}}var Q=class a{constructor(i,o,c){this.router=i;this.patientProfileService=o;this.socketService=c}logoUrl="https://ik.imagekit.io/a2wpi1kd9/imgToUrl/image-to-url_HEow9eLbR";unreadCount=0;ngOnInit(){this.loadNotifications(),this.patientProfileService.unreadCount$.subscribe(i=>{this.unreadCount=i})}loadNotifications(){this.patientProfileService.getNotifications().subscribe({next:i=>{this.unreadCount=i.filter(o=>!o.read).length,this.patientProfileService.updateUnreadCount(this.unreadCount)},error:i=>{console.error("Error fetching notifications on logout:",i)}})}logout(){this.socketService.disconnect(),localStorage.removeItem("medtik_token"),document.cookie="medtik_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.router.navigate(["/auth/login"])}static \u0275fac=function(o){return new(o||a)(l(S),l(U),l(z))};static \u0275cmp=M({type:a,selectors:[["app-patient-layout"]],decls:75,vars:3,consts:[["snav",""],[1,"shell"],["mode","side","opened","",1,"side"],[1,"brand"],["alt","Medtik",1,"brand-logo",3,"src"],["mat-list-item","","routerLink","dashboard","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","search","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","appointments","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","payments","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","records","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","reviews","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","notifications","routerLinkActive","active",1,"side-link"],[1,"notification-icon"],["class","notification-count",4,"ngIf"],[1,"link-label"],["mat-list-item","","routerLink","settings","routerLinkActive","active",1,"side-link"],["mat-list-item","","routerLink","help","routerLinkActive","active",1,"side-link"],[1,"content"],[1,"topbar"],["mat-icon-button","",1,"hide-desktop",3,"click"],[1,"grow"],["mat-icon-button","","routerLink","/patient/notifications"],["mat-icon-button","","routerLink","/patient/dashboard",1,"home"],["mat-icon-button","",1,"user"],["mat-icon-button","","color","warn",3,"click"],[1,"page"],[1,"notification-count"]],template:function(o,c){if(o&1){let u=_();t(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"div",3),s(4,"img",4),t(5,"span"),n(6,"Medtik"),e()(),t(7,"mat-nav-list")(8,"a",5)(9,"mat-icon"),n(10,"dashboard"),e(),t(11,"span"),n(12,"Dashboard"),e()(),t(13,"a",6)(14,"mat-icon"),n(15,"search"),e(),t(16,"span"),n(17,"Find Doctors"),e()(),t(18,"a",7)(19,"mat-icon"),n(20,"event"),e(),t(21,"span"),n(22,"Appointments"),e()(),t(23,"a",8)(24,"mat-icon"),n(25,"receipt_long"),e(),t(26,"span"),n(27,"Payments"),e()(),t(28,"a",9)(29,"mat-icon"),n(30,"inventory_2"),e(),t(31,"span"),n(32,"Medical Records"),e()(),t(33,"a",10)(34,"mat-icon"),n(35,"star"),e(),t(36,"span"),n(37,"My Reviews"),e()(),t(38,"a",11)(39,"div",12)(40,"mat-icon"),n(41," notifications "),e(),x(42,Z,2,1,"span",13),e(),t(43,"span",14),n(44,"Notifications"),e()(),t(45,"a",15)(46,"mat-icon"),n(47,"settings"),e(),t(48,"span"),n(49,"Settings"),e()(),t(50,"a",16)(51,"mat-icon"),n(52,"help"),e(),t(53,"span"),n(54,"Help"),e()()()(),t(55,"mat-sidenav-content",17)(56,"mat-toolbar",18)(57,"button",19),f("click",function(){d(u);let Y=v(2);return p(Y.toggle())}),t(58,"mat-icon"),n(59,"menu"),e()(),s(60,"span",20),t(61,"button",21)(62,"mat-icon"),n(63,"notifications"),e()(),t(64,"button",22)(65,"mat-icon"),n(66,"home"),e()(),t(67,"button",23)(68,"mat-icon"),n(69,"account_circle"),e()(),t(70,"button",24),f("click",function(){return d(u),p(c.logout())}),t(71,"mat-icon"),n(72,"logout"),e()()(),t(73,"div",25),s(74,"router-outlet"),e()()()}o&2&&(r(),m("@slideIn",void 0),r(3),m("src",c.logoUrl,b),r(38),m("ngIf",c.unreadCount>0))},dependencies:[k,h,L,O,y,w,F,V,B,D,J,H,G,q,$,R,A,I,E,K,X],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100dvh;background:transparent}.shell[_ngcontent-%COMP%]{height:100dvh;background:transparent}.side[_ngcontent-%COMP%]{width:280px;background:#ffffff05;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-right:1px solid rgba(255,255,255,.06)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem .9rem}.brand-logo[_ngcontent-%COMP%]{width:67px;height:67px;object-fit:contain;display:block;filter:drop-shadow(0 6px 16px rgba(42,118,183,.45))}.brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800;font-size:1.05rem;letter-spacing:.3px}.mat-mdc-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:.5rem;color:var(--muted);vertical-align:middle;display:inline-flex;align-items:center;justify-content:center;margin-bottom:-2px}.mat-mdc-list-item.active[_ngcontent-%COMP%]{background:#ffffff0a;border-left:3px solid rgba(42,118,183,.7)}.mat-mdc-list-item.active[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-mdc-list-item.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text)}.mat-mdc-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:22px;color:#ffffffbf;display:inline-flex;align-items:center;justify-content:center;transition:color .25s ease;margin:0}.content[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{background:transparent;color:var(--text);border-bottom:1px solid rgba(255,255,255,.06)}.hide-desktop[_ngcontent-%COMP%]{display:none}.grow[_ngcontent-%COMP%]{flex:1 1 auto}.page[_ngcontent-%COMP%]{padding:1.25rem}@media (max-width: 960px){.hide-desktop[_ngcontent-%COMP%]{display:inline-flex}.side[_ngcontent-%COMP%]{width:260px}.brand-logo[_ngcontent-%COMP%]{width:44px;height:44px}}[_nghost-%COMP%]     .page .card, [_nghost-%COMP%]     .page mat-card, [_nghost-%COMP%]     .page .mat-mdc-card{position:relative;border-radius:20px;background:linear-gradient(180deg,#ffffff0a,#ffffff05)!important;-webkit-backdrop-filter:blur(8px) saturate(120%);backdrop-filter:blur(8px) saturate(120%);border:1px solid rgba(255,255,255,.08);box-shadow:0 10px 40px #00000059,inset 0 1px #ffffff0a}[_nghost-%COMP%]     .page .card:after, [_nghost-%COMP%]     .page mat-card:after, [_nghost-%COMP%]     .page .mat-mdc-card:after{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;box-shadow:inset 0 0 0 1px #ffffff05,inset 0 -20px 60px #0003}.user[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]{color:var(--text);opacity:.9;padding:.4rem;border-radius:50%;transition:background .2s ease}.user[_ngcontent-%COMP%]:hover, .home[_ngcontent-%COMP%]:hover{background:#ffffff14}.user[disabled][_ngcontent-%COMP%], .home[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}a[mat-list-item][_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.85rem 1.25rem;color:#fffc;text-decoration:none;transition:all .25s ease;border-left:3px solid transparent;position:relative;overflow:visible!important}a[mat-list-item][_ngcontent-%COMP%]:hover{background:#ffffff14;color:#fff}a[mat-list-item].active[_ngcontent-%COMP%]{background:#2a76b726;border-left-color:#2a76b7e6;color:#fff}a[mat-list-item][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;color:#ffffffbf;transition:color .25s ease}a[mat-list-item].active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], a[mat-list-item][_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#2a96ffe6}.icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .side-link .mdc-list-item__content, [_nghost-%COMP%]     .side-link .mdc-list-item__primary-text{display:flex!important;flex-direction:row!important;align-items:center!important;gap:12px!important;width:100%!important}.side-link[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;align-items:center!important;justify-content:flex-start!important;padding:.85rem 1.2rem!important;color:#ffffffd9!important;text-decoration:none!important;border-left:3px solid transparent;transition:all .25s ease}.side-link[_ngcontent-%COMP%]:hover{background:#ffffff14;color:#fff}.side-link.active[_ngcontent-%COMP%]{background:#2a76b726;border-left-color:#2a76b7e6;color:#fff}.side-link.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.notification-icon[_ngcontent-%COMP%]{position:relative;align-items:center}.notification-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;color:#ffffffbf;transition:color .25s ease}.side-link.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .side-link[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#2a96ffe6}.notification-count[_ngcontent-%COMP%]{position:absolute;top:-1px;right:-4px;background-color:#ff3b3b;color:#fff;font-size:11px;font-weight:700;padding:2px 5px;border-radius:10px;line-height:1}.link-label[_ngcontent-%COMP%]{flex:1;font-size:.95rem;white-space:nowrap;left:-4px}.content[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{background:transparent;color:var(--text);border-bottom:1px solid rgba(255,255,255,.06);display:flex;align-items:center;padding:0 1rem}button.mat-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffd9}button.mat-stroked-button[_ngcontent-%COMP%]{border-color:#2a76b7cc}.page[_ngcontent-%COMP%]{padding:1.5rem}@media (max-width: 960px){.side[_ngcontent-%COMP%]{width:250px}.brand-logo[_ngcontent-%COMP%]{width:44px;height:44px}}[_nghost-%COMP%]     .mat-drawer-container, [_nghost-%COMP%]     .mat-drawer-content, [_nghost-%COMP%]     .mat-sidenav-content, [_nghost-%COMP%]     .content, [_nghost-%COMP%]     .page, [_nghost-%COMP%]     .topbar{background:transparent!important}'],data:{animation:[T("slideIn",[N(":enter",[g({transform:"translateX(-8px)",opacity:0}),j("300ms ease-out",g({transform:"none",opacity:1}))])])]}})};export{Q as PatientLayoutComponent};
