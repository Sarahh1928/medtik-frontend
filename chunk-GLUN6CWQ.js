import{a as X}from"./chunk-MUHS2OZJ.js";import{a as K,b as Q,c as Z,d as tt,e as et,f as nt}from"./chunk-FKATGAZG.js";import{a as lt,b as ct}from"./chunk-EOAQWSMD.js";import{a as ot,b as at,c as rt}from"./chunk-BC57U3EU.js";import{b as it}from"./chunk-OQ674PF3.js";import"./chunk-GGQ7LRWG.js";import{c as q,d as G,f as _,g as J}from"./chunk-NQP6NLRO.js";import"./chunk-BR5LHSVS.js";import"./chunk-OY7Y436C.js";import"./chunk-YCVTR2B7.js";import"./chunk-TR43TC6U.js";import"./chunk-YN6JIHUF.js";import"./chunk-4EZBTZIU.js";import{a as j,b as Y}from"./chunk-W6QHVSTW.js";import{T as H,Y as U,Z as W}from"./chunk-YSTQL2PO.js";import{a as T,c as R,d as F,e as A,f as z,h as V}from"./chunk-QJG5D5WU.js";import{$ as u,$b as p,Ac as I,Bc as $,Da as x,Ga as r,Gc as D,Jb as E,Lb as g,Mc as N,Nb as a,Ob as L,P as C,Pb as B,Ra as P,Wa as s,_b as d,ea as f,fa as b,lb as l,mb as t,nb as i,o as h,ob as m,sb as O,tb as S,vb as w,x as y,xb as v,zb as k}from"./chunk-HKUWCROW.js";import"./chunk-JKOY2XUY.js";function st(c,n){if(c&1&&(t(0,"a",15),d(1,"async"),t(2,"mat-icon",16),d(3,"async"),a(4),i(),t(5,"span"),a(6),i()()),c&2){let e=n.$implicit,o=k();g("disabled",p(1,9,o.locked$)&&!e.lockExempt)("lock-exempt",e.lockExempt),l("routerLink",e.path),r(2),l("matBadge",e.badge)("matBadgeHidden",!e.badge||p(3,11,o.locked$)&&!e.lockExempt),r(2),B(" ",e.icon," "),r(2),L(e.label)}}function gt(c,n){c&1&&(t(0,"div",19)(1,"div",20)(2,"mat-icon"),a(3,"lock"),i(),t(4,"h3"),a(5,"Finish your profile to unlock Medtik"),i(),t(6,"p"),a(7," Your account is active but you need to complete your profile and set a new password before accessing other tools. "),i(),t(8,"button",21),a(9,"Complete profile"),i()()())}function ut(c,n){if(c&1&&(O(0),s(1,gt,10,0,"div",17),d(2,"async"),m(3,"div",18),d(4,"async"),S()),c&2){let e=n.ngIf,o=k();r(),l("ngIf",p(2,3,o.locked$)&&!e),r(2),g("page-locked",p(4,5,o.locked$)&&!e)}}var dt=class c{logoUrl="https://ik.imagekit.io/a2wpi1kd9/imgToUrl/image-to-url_HEow9eLbR";profileService=u(X);router=u(F);locked$=this.profileService.locked$;loading$=this.profileService.loading$;profile$=this.profileService.profile$;onProfileRoute$;navLinks=[{path:"dashboard",label:"Dashboard",icon:"dashboard"},{path:"schedule",label:"Schedule",icon:"calendar_month"},{path:"patients",label:"Patients",icon:"group"},{path:"appointments",label:"Appointments",icon:"event"},{path:"inbox",label:"Inbox",icon:"forum"},{path:"profile",label:"Profile",icon:"badge",lockExempt:!0},{path:"settings",label:"Settings",icon:"settings"},{path:"notifications",label:"Notifications",icon:"notifications",badge:"5"},{path:"help",label:"Help",icon:"help"}];constructor(){this.onProfileRoute$=this.router.events.pipe(y(n=>n instanceof T),h(n=>n.urlAfterRedirects.startsWith("/doctor/profile")),C(this.router.url.startsWith("/doctor/profile")))}ngOnInit(){this.locked$.subscribe(n=>{n===!0&&!this.router.url.includes("/doctor/profile")&&(console.warn("\u{1F512} Account locked \u2192 redirecting to /doctor/profile"),this.router.navigate(["/doctor/profile"]))})}trackByIndex(n){return n}onNavClick(n,e){e&&(n.preventDefault(),n.stopImmediatePropagation())}logout(){localStorage.removeItem("medtik_token"),this.router.navigate(["/auth/login"])}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=P({type:c,selectors:[["app-doctor-layout"]],decls:36,vars:20,consts:[["snav",""],[1,"shell"],["mode","side","opened","",1,"side"],[1,"brand"],["alt","Medtik",1,"brand-logo",3,"src"],["mat-list-item","","routerLinkActive","active",3,"routerLink","disabled","lock-exempt",4,"ngFor","ngForOf","ngForTrackBy"],[1,"content"],[1,"topbar"],["mat-icon-button","",1,"hide-desktop",3,"click"],[1,"grow"],["mat-stroked-button","","color","primary","routerLink","/doctor/schedule",3,"disabled"],["mat-icon-button","","routerLink","/doctor/inbox",3,"disabled"],["mat-button","",1,"user",3,"disabled"],["mat-icon-button","","color","warn",3,"click"],[4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["matBadgeColor","accent",3,"matBadge","matBadgeHidden"],["class","lock-overlay",4,"ngIf"],[1,"page"],[1,"lock-overlay"],[1,"overlay-card"],["mat-flat-button","","color","primary","routerLink","/doctor/profile"]],template:function(e,o){if(e&1){let M=w();t(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),d(3,"async"),t(4,"div",3),m(5,"img",4),t(6,"span"),a(7,"Medtik \xB7 Doctor"),i()(),t(8,"mat-nav-list"),s(9,st,7,13,"a",5),i()(),t(10,"mat-sidenav-content",6)(11,"mat-toolbar",7)(12,"button",8),v("click",function(){f(M);let mt=E(2);return b(mt.toggle())}),t(13,"mat-icon"),a(14,"menu"),i()(),m(15,"span",9),t(16,"button",10),d(17,"async"),t(18,"mat-icon"),a(19,"add"),i(),a(20," Slots "),i(),t(21,"button",11),d(22,"async"),t(23,"mat-icon"),a(24,"forum"),i()(),t(25,"button",12),d(26,"async"),t(27,"mat-icon"),a(28,"account_circle"),i(),a(29," Dr. You "),i(),t(30,"button",13),v("click",function(){return f(M),b(o.logout())}),t(31,"mat-icon"),a(32,"logout"),i()()(),s(33,ut,5,7,"ng-container",14),d(34,"async"),m(35,"router-outlet"),i()()}e&2&&(r(),g("side-locked",p(3,10,o.locked$)),l("@slideIn",void 0),r(4),l("src",o.logoUrl,x),r(4),l("ngForOf",o.navLinks)("ngForTrackBy",o.trackByIndex),r(7),l("disabled",p(17,12,o.locked$)),r(5),l("disabled",p(22,14,o.locked$)),r(4),l("disabled",p(26,16,o.locked$)),r(8),l("ngIf",p(34,18,o.onProfileRoute$)))},dependencies:[N,I,$,V,R,A,z,tt,Q,Z,K,nt,et,rt,at,ot,Y,j,W,U,H,ct,lt,it,D],styles:["[_nghost-%COMP%]{display:block;min-height:100dvh;background:transparent}.shell[_ngcontent-%COMP%]{height:100dvh;background:transparent}.side[_ngcontent-%COMP%]{width:300px;background:#ffffff05;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-right:1px solid rgba(255,255,255,.06)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem .9rem}.brand-logo[_ngcontent-%COMP%]{width:56px;height:56px;object-fit:contain;display:block;filter:drop-shadow(0 6px 16px rgba(42,118,183,.45))}.brand[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:800;font-size:1.05rem;letter-spacing:.3px}.mat-mdc-list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:.5rem;color:var(--muted)}.mat-mdc-list-item.active[_ngcontent-%COMP%]{background:#ffffff0a;border-left:3px solid rgba(42,118,183,.7)}.mat-mdc-list-item.active[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-mdc-list-item.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text)}.content[_ngcontent-%COMP%]   .topbar[_ngcontent-%COMP%]{background:transparent;color:var(--text);border-bottom:1px solid rgba(255,255,255,.06)}.hide-desktop[_ngcontent-%COMP%]{display:none}.grow[_ngcontent-%COMP%]{flex:1 1 auto}.page[_ngcontent-%COMP%]{padding:1.25rem}@media (max-width: 960px){.hide-desktop[_ngcontent-%COMP%]{display:inline-flex}.side[_ngcontent-%COMP%]{width:260px}.brand-logo[_ngcontent-%COMP%]{width:44px;height:44px}}[_nghost-%COMP%]     .mat-drawer-container, [_nghost-%COMP%]     .mat-drawer-content, [_nghost-%COMP%]     .mat-sidenav-content, [_nghost-%COMP%]     .content, [_nghost-%COMP%]     .page, [_nghost-%COMP%]     .topbar{background:transparent!important}.side.side-locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.45}.mat-mdc-list-item.disabled[_ngcontent-%COMP%]{opacity:.45;pointer-events:none}.lock-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:grid;place-items:center;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);background:linear-gradient(180deg,#0a0f19b8,#0a0f19d9);z-index:5;padding:1.5rem}.overlay-card[_ngcontent-%COMP%]{max-width:420px;text-align:center;padding:2rem;border-radius:20px;background:linear-gradient(180deg,#ffffff0d,#ffffff05);border:1px solid rgba(255,255,255,.16);box-shadow:0 28px 70px #00000073;display:grid;gap:.85rem}.overlay-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:44px;height:44px;width:44px;margin:0 auto;color:#8fc7ff}.overlay-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;font-weight:700}.overlay-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#d0d6e2;line-height:1.4}.page-locked[_ngcontent-%COMP%]{filter:blur(2px) grayscale(.35);pointer-events:none}.content[_ngcontent-%COMP%]{position:relative}.mat-toolbar[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5}.mat-mdc-list-item.lock-exempt[_ngcontent-%COMP%]{opacity:1!important;pointer-events:auto!important}a.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}a.mat-list-item.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5;cursor:not-allowed}a.mat-list-item.disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], a.mat-list-item.disabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[q("slideIn",[J(":enter",[_({transform:"translateX(-10px)",opacity:0}),G("300ms ease-out",_({transform:"none",opacity:1}))])])]}})};export{dt as DoctorLayoutComponent};
