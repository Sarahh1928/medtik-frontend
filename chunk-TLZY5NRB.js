import"./chunk-3RK6DDJD.js";import{a as k,b as N,h as T,i as j,m as B,n as D}from"./chunk-WLFKFW6S.js";import{A as F,b as M,d as g,f as w,g as C,l as y,o as P,r as S,y as E}from"./chunk-CCREW7CN.js";import{b as A}from"./chunk-WSZ2ZTRK.js";import{Y as I,Z as O}from"./chunk-WXJKX6WL.js";import{$b as f,Nb as l,Ob as t,Pb as i,Qb as d,Zb as h,_a as n,db as s,gd as x,kb as u,nc as o,oc as c,pb as p,pc as b,rd as v,yd as _}from"./chunk-PCHMKQLW.js";function H(r,a){r&1&&(t(0,"mat-error"),o(1," Email is required "),i())}function L(r,a){r&1&&(t(0,"mat-error"),o(1," Enter a valid email "),i())}function R(r,a){if(r&1&&(t(0,"p",15),o(1),i()),r&2){let m=f();n(),c(m.apiError)}}function q(r,a){if(r&1&&(t(0,"p",16),o(1),i()),r&2){let m=f();n(),c(m.infoMessage)}}var G=class r{constructor(a,m,e){this.fb=a;this.http=m;this.service=e;this.form=this.fb.group({email:["",[g.required,g.email]]})}form;apiError="";infoMessage="";loading=!1;submit(){this.form.invalid||(this.apiError="",this.infoMessage="",this.loading=!0,this.service.forgotPassword(this.form.value).subscribe({next:a=>{this.infoMessage="If this email exists, a reset link has been sent."},complete:()=>{this.loading=!1},error:a=>{this.apiError=a.error?.message||"Something went wrong.",this.loading=!1}}))}static \u0275fac=function(m){return new(m||r)(s(E),s(_),s(A))};static \u0275cmp=u({type:r,selectors:[["app-forget-password"]],decls:25,vars:7,consts:[[1,"auth-shell"],[1,"auth-frame"],[1,"form-pane","only-form"],[1,"brand"],["src","https://ik.imagekit.io/a2wpi1kd9/imgToUrl/image-to-url_HEow9eLbR","alt","Medtik",1,"brand-mark"],[1,"sub"],[3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email","placeholder","example@email.com"],[4,"ngIf"],["class","api-error","role","alert",4,"ngIf"],["class","info",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",1,"submit",3,"disabled"],[1,"aux"],["routerLink","/auth/sign-in"],["role","alert",1,"api-error"],[1,"info"]],template:function(m,e){m&1&&(t(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3),d(4,"img",4),t(5,"h1"),o(6,"Reset Password"),i()(),t(7,"h2"),o(8,"Forgot your password?"),i(),t(9,"p",5),o(10," Enter your email address and we\u2019ll send you a link to reset your password. "),i(),t(11,"form",6),h("ngSubmit",function(){return e.submit()}),t(12,"mat-form-field",7)(13,"mat-label"),o(14,"Email address"),i(),d(15,"input",8),p(16,H,2,0,"mat-error",9)(17,L,2,0,"mat-error",9),i(),p(18,R,2,1,"p",10)(19,q,2,1,"p",11),t(20,"button",12),o(21),i(),t(22,"div",13)(23,"a",14),o(24,"Back to sign in"),i()()()()()()),m&2&&(n(11),l("formGroup",e.form),n(5),l("ngIf",e.form.controls.email.touched&&(e.form.controls.email.errors==null?null:e.form.controls.email.errors.required)),n(),l("ngIf",e.form.controls.email.touched&&(e.form.controls.email.errors==null?null:e.form.controls.email.errors.email)),n(),l("ngIf",e.apiError),n(),l("ngIf",e.infoMessage),n(),l("disabled",e.loading),n(),b(" ",e.loading?"Sending...":"Send Reset Link"," "))},dependencies:[v,x,F,y,M,w,C,P,S,j,T,k,N,D,B,O,I],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:100svh;display:flex;align-items:center;justify-content:center;padding:clamp(16px,4vmin,32px);overflow:auto}.auth-frame[_ngcontent-%COMP%]{width:min(520px,94vw);display:grid;grid-template-columns:1fr;border-radius:24px;background:linear-gradient(180deg,#ffffff08,#ffffff05),#101828b8;-webkit-backdrop-filter:blur(10px) saturate(120%);backdrop-filter:blur(10px) saturate(120%);border:1px solid rgba(255,255,255,.08);box-shadow:0 24px 70px #00000080}.form-pane[_ngcontent-%COMP%]{padding:28px 20px;display:grid;align-content:start}.brand[_ngcontent-%COMP%]{display:grid;place-items:center;gap:.35rem;margin-bottom:.75rem;text-align:center}.brand-mark[_ngcontent-%COMP%]{width:96px;height:96px;object-fit:contain;filter:drop-shadow(0 10px 24px rgba(42,118,183,.6))}h2[_ngcontent-%COMP%]{margin:.25rem 0 .5rem;font-weight:800;color:#e6eef6;font-size:clamp(1.2rem,2vw,1.5rem)}.sub[_ngcontent-%COMP%]{margin:.1rem 0 1rem;color:#a7b4c5}form[_ngcontent-%COMP%]{display:grid;gap:.8rem}.submit[_ngcontent-%COMP%]{width:100%;border-radius:12px;margin-top:.25rem}.aux[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:.1rem}.aux[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a7b4c5;text-decoration:none}.aux[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e6eaf2}.api-error[_ngcontent-%COMP%]{color:#f44336;font-size:.85rem;margin:-.25rem 0 .5rem}.info[_ngcontent-%COMP%]{color:#a7b4c5;font-size:.85rem;margin:-.25rem 0 .5rem}"]})};export{G as ForgetPassword};
