import"./chunk-3RK6DDJD.js";import{a as T,b as j,h as B,i as R,m as D,n as L}from"./chunk-FXUZVO2G.js";import{B as k,b as C,d as g,f as P,g as y,l as S,o as E,r as F,z as I}from"./chunk-NZBL2PSU.js";import{Y as O,Z as N}from"./chunk-YNMGB45N.js";import{b as w}from"./chunk-F426BNRH.js";import{e as M}from"./chunk-RXNQWMFM.js";import{Db as h,Fb as f,Hc as x,Ma as a,Qa as s,Sc as v,Tb as n,Ub as c,Vb as b,Xa as u,Zc as _,ab as p,rb as l,sb as t,tb as i,ub as d}from"./chunk-BE7DJT6W.js";function G(r,o){r&1&&(t(0,"mat-error"),n(1," Email is required "),i())}function H(r,o){r&1&&(t(0,"mat-error"),n(1," Enter a valid email "),i())}function q(r,o){if(r&1&&(t(0,"p",15),n(1),i()),r&2){let m=f();a(),c(m.apiError)}}function z(r,o){if(r&1&&(t(0,"p",16),n(1),i()),r&2){let m=f();a(),c(m.infoMessage)}}var A=class r{constructor(o,m,e){this.fb=o;this.http=m;this.service=e;this.form=this.fb.group({email:["",[g.required,g.email]]})}form;apiError="";infoMessage="";loading=!1;submit(){console.log("Submitting form",this.form.value),!this.form.invalid&&(this.apiError="",this.infoMessage="",this.loading=!0,this.service.forgotPassword(this.form.value).subscribe({next:o=>{console.log("Response from forgotPassword:",o),this.infoMessage=o.message||"If an account with that email exists, a reset link has been sent."},complete:()=>{this.loading=!1},error:o=>{this.apiError=o.error?.message||"Something went wrong.",this.loading=!1}}))}static \u0275fac=function(m){return new(m||r)(s(I),s(_),s(w))};static \u0275cmp=u({type:r,selectors:[["app-forget-password"]],decls:25,vars:7,consts:[[1,"auth-shell"],[1,"auth-frame"],[1,"form-pane","only-form"],[1,"brand"],["src","https://ik.imagekit.io/a2wpi1kd9/imgToUrl/image-to-url_HEow9eLbR","alt","Medtik",1,"brand-mark"],[1,"sub"],[3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","email","placeholder","example@email.com"],[4,"ngIf"],["class","api-error","role","alert",4,"ngIf"],["class","info",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",1,"submit",3,"disabled"],[1,"aux"],["routerLink","/auth/login"],["role","alert",1,"api-error"],[1,"info"]],template:function(m,e){m&1&&(t(0,"div",0)(1,"div",1)(2,"main",2)(3,"div",3),d(4,"img",4),t(5,"h1"),n(6,"Reset Password"),i()(),t(7,"h2"),n(8,"Forgot your password?"),i(),t(9,"p",5),n(10," Enter your email address and we\u2019ll send you a link to reset your password. "),i(),t(11,"form",6),h("ngSubmit",function(){return e.submit()}),t(12,"mat-form-field",7)(13,"mat-label"),n(14,"Email address"),i(),d(15,"input",8),p(16,G,2,0,"mat-error",9)(17,H,2,0,"mat-error",9),i(),p(18,q,2,1,"p",10)(19,z,2,1,"p",11),t(20,"button",12),n(21),i(),t(22,"div",13)(23,"a",14),n(24,"Back to sign in"),i()()()()()()),m&2&&(a(11),l("formGroup",e.form),a(5),l("ngIf",e.form.controls.email.touched&&(e.form.controls.email.errors==null?null:e.form.controls.email.errors.required)),a(),l("ngIf",e.form.controls.email.touched&&(e.form.controls.email.errors==null?null:e.form.controls.email.errors.email)),a(),l("ngIf",e.apiError),a(),l("ngIf",e.infoMessage),a(),l("disabled",e.loading),a(),b(" ",e.loading?"Sending...":"Send Reset Link"," "))},dependencies:[v,x,k,S,C,P,y,E,F,R,B,T,j,L,D,N,O,M],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:100svh;display:flex;align-items:center;justify-content:center;padding:clamp(16px,4vmin,32px);overflow:auto}.auth-frame[_ngcontent-%COMP%]{width:min(520px,94vw);display:grid;grid-template-columns:1fr;border-radius:24px;background:linear-gradient(180deg,#ffffff08,#ffffff05),#101828b8;-webkit-backdrop-filter:blur(10px) saturate(120%);backdrop-filter:blur(10px) saturate(120%);border:1px solid rgba(255,255,255,.08);box-shadow:0 24px 70px #00000080}.form-pane[_ngcontent-%COMP%]{padding:28px 20px;display:grid;align-content:start}.brand[_ngcontent-%COMP%]{display:grid;place-items:center;gap:.35rem;margin-bottom:.75rem;text-align:center}.brand-mark[_ngcontent-%COMP%]{width:96px;height:96px;object-fit:contain;filter:drop-shadow(0 10px 24px rgba(42,118,183,.6))}h2[_ngcontent-%COMP%]{margin:.25rem 0 .5rem;font-weight:800;color:#e6eef6;font-size:clamp(1.2rem,2vw,1.5rem)}.sub[_ngcontent-%COMP%]{margin:.1rem 0 1rem;color:#a7b4c5}form[_ngcontent-%COMP%]{display:grid;gap:.8rem}.submit[_ngcontent-%COMP%]{width:100%;border-radius:12px;margin-top:.25rem}.aux[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:.1rem}.aux[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a7b4c5;text-decoration:none}.aux[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e6eaf2}.api-error[_ngcontent-%COMP%]{color:#f44336;font-size:.85rem;margin:-.25rem 0 .5rem}.info[_ngcontent-%COMP%]{color:#a7b4c5;font-size:.85rem;margin:-.25rem 0 .5rem}"]})};export{A as ForgetPassword};
