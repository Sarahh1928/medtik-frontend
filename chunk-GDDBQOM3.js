import{a as pe}from"./chunk-OGDSJRSL.js";import{b as fe}from"./chunk-OQ674PF3.js";import{a as _e,b as ve}from"./chunk-7E725CH7.js";import{a as me,b as se}from"./chunk-Y5ANY4EP.js";import"./chunk-MS4AQ6UA.js";import{a as de,b as ue,d as ge}from"./chunk-ZCFZR4S3.js";import"./chunk-3YF2UIUM.js";import"./chunk-4K5T2QBN.js";import{a as te,c as ie,h as ne,i as re,m as le,n as ce}from"./chunk-LCR2LKFI.js";import"./chunk-BR5LHSVS.js";import"./chunk-OY7Y436C.js";import"./chunk-YCVTR2B7.js";import"./chunk-TR43TC6U.js";import{A as Z,b as j,d as D,f as L,g as B,m as H,o as Y,p as q,q as J,r as K,w as Q,y as W}from"./chunk-YN6JIHUF.js";import{a as oe,b as ae}from"./chunk-W6QHVSTW.js";import"./chunk-W6FI7VKQ.js";import{Y as X,Z as ee}from"./chunk-YSTQL2PO.js";import{$ as w,Ac as R,Bc as z,Da as M,G as I,Ga as a,Jb as A,Lb as G,Mc as $,Nb as r,Ob as u,Pb as P,Q as F,Ra as k,Wa as p,bc as U,ea as h,fa as x,lb as c,mb as n,nb as i,ob as g,sb as V,tb as T,vb as E,xb as b,zb as d}from"./chunk-HKUWCROW.js";import"./chunk-JKOY2XUY.js";function Se(o,e){if(o&1&&(n(0,"div",59)(1,"mat-icon"),r(2,"error"),i(),n(3,"span"),r(4),i()()),o&2){let t=d(2);a(4),u(t.apiError)}}function we(o,e){if(o&1&&(n(0,"mat-option",21),r(1),i()),o&2){let t=e.$implicit;c("value",t),a(),P(" ",t.name," ")}}function Oe(o,e){if(o&1){let t=E();n(0,"span",60),r(1),n(2,"button",61),b("click",function(){let l=h(t).index,s=d(2);return x(s.removeChip("languages",l))}),r(3,"\xD7"),i()()}if(o&2){let t=e.$implicit;a(),P(" ",t.value," ")}}function Me(o,e){if(o&1){let t=E();n(0,"span",60),r(1),n(2,"button",61),b("click",function(){let l=h(t).index,s=d(2);return x(s.removeChip("hospitals",l))}),r(3,"\xD7"),i()()}if(o&2){let t=e.$implicit;a(),P(" ",t.value," ")}}function De(o,e){if(o&1){let t=E();n(0,"span",60),r(1),n(2,"button",61),b("click",function(){let l=h(t).index,s=d(2);return x(s.removeChip("education",l))}),r(3,"\xD7"),i()()}if(o&2){let t=e.$implicit;a(),P(" ",t.value," ")}}function Ne(o,e){if(o&1){let t=E();n(0,"span",60),r(1),n(2,"button",61),b("click",function(){let l=h(t).index,s=d(2);return x(s.removeChip("certificates",l))}),r(3,"\xD7"),i()()}if(o&2){let t=e.$implicit;a(),P(" ",t.value," ")}}function Ie(o,e){if(o&1&&(n(0,"mat-option",21),r(1),i()),o&2){let t=e.$implicit;c("value",t),a(),u(t)}}function Fe(o,e){if(o&1&&(n(0,"div",62)(1,"h4"),r(2),i(),n(3,"div",63)(4,"mat-form-field",19)(5,"mat-label"),r(6,"USD"),i(),g(7,"input",64),i(),n(8,"mat-form-field",19)(9,"mat-label"),r(10,"SAR"),i(),g(11,"input",65),i(),n(12,"mat-form-field",19)(13,"mat-label"),r(14,"EGP"),i(),g(15,"input",66),i(),n(16,"mat-form-field",19)(17,"mat-label"),r(18,"AED"),i(),g(19,"input",67),i()()()),o&2){let t,m=e.$implicit,l=e.index;c("formGroupName",l),a(2),u((t=m.get("service"))==null?null:t.value)}}function ke(o,e){if(o&1&&(n(0,"div",50)(1,"mat-icon"),r(2,"schedule"),i(),n(3,"span"),r(4),i()()),o&2){let t=d(2);a(4),P("",t.preview().yearsOfExperience," years experience")}}function Ve(o,e){if(o&1&&(n(0,"div",50)(1,"mat-icon"),r(2,"call"),i(),n(3,"span"),r(4),i()()),o&2){let t=d(2);a(4),u(t.preview().phone)}}function Te(o,e){o&1&&(n(0,"mat-icon"),r(1,"chat"),i())}function Ae(o,e){o&1&&(n(0,"mat-icon"),r(1,"call"),i())}function Ge(o,e){o&1&&(n(0,"mat-icon"),r(1,"videocam"),i())}function Ue(o,e){if(o&1&&(n(0,"div",70),p(1,Te,2,0,"mat-icon",71)(2,Ae,2,0,"mat-icon",71)(3,Ge,2,0,"mat-icon",71),n(4,"span"),r(5),i(),n(6,"strong"),r(7),i()()),o&2){let t=e.$implicit,m=d(3);a(),c("ngIf",t.service==="CHAT"),a(),c("ngIf",t.service==="VOICE"),a(),c("ngIf",t.service==="VIDEO"),a(2),u(t.service),a(2),u(m.priceLabel(t))}}function Re(o,e){if(o&1&&(n(0,"section",55)(1,"h4")(2,"mat-icon"),r(3,"payments"),i(),r(4," Pricing"),i(),n(5,"div",68),p(6,Ue,8,5,"div",69),i()()),o&2){let t=d(2);a(6),c("ngForOf",t.preview().pricing)}}function ze(o,e){if(o&1&&(n(0,"span",60),r(1),i()),o&2){let t=e.$implicit;a(),u(t)}}function $e(o,e){o&1&&(n(0,"span",8),r(1,"Add languages you speak."),i())}function je(o,e){if(o&1&&(n(0,"li"),r(1),i()),o&2){let t=e.$implicit;a(),u(t)}}function Le(o,e){o&1&&(n(0,"li",8),r(1,"Add where you practice."),i())}function Be(o,e){if(o&1&&(n(0,"li"),r(1),i()),o&2){let t=e.$implicit;a(),u(t)}}function He(o,e){o&1&&(n(0,"li",8),r(1,"List your education."),i())}function Ye(o,e){if(o&1&&(n(0,"li"),r(1),i()),o&2){let t=e.$implicit;a(),u(t)}}function qe(o,e){o&1&&(n(0,"li",8),r(1,"Add your certifications."),i())}function Je(o,e){if(o&1){let t=E();V(0),p(1,Se,5,1,"div",3),n(2,"section",4)(3,"header",5)(4,"div",6),g(5,"img",7),n(6,"div")(7,"h2"),r(8,"Doctor profile"),i(),n(9,"p",8),r(10,"Complete your profile to unlock the workspace."),i()()(),n(11,"div",9)(12,"button",10),b("click",function(){h(t);let l=d();return x(l.reset())}),n(13,"mat-icon"),r(14,"refresh"),i(),r(15," Reset "),i(),n(16,"button",11),b("click",function(){h(t);let l=d();return x(l.save())}),n(17,"mat-icon"),r(18),i(),n(19,"span",12),r(20),i()()()(),n(21,"div",13)(22,"h3",14)(23,"mat-icon"),r(24,"badge"),i(),r(25," Identity"),i(),n(26,"div",15)(27,"mat-form-field",16)(28,"mat-label"),r(29,"Display name"),i(),g(30,"input",17),i(),n(31,"mat-form-field",16)(32,"mat-label"),r(33,"Professional title"),i(),g(34,"input",18),i(),n(35,"mat-form-field",19)(36,"mat-label"),r(37,"Department"),i(),n(38,"mat-select",20)(39,"mat-option",21),r(40,"Select department"),i(),p(41,we,2,2,"mat-option",22),i()(),n(42,"mat-form-field",19)(43,"mat-label"),r(44,"Years of experience"),i(),g(45,"input",23),i(),n(46,"mat-form-field",16)(47,"mat-label"),r(48,"License / registration number"),i(),g(49,"input",24),i(),n(50,"mat-form-field",16)(51,"mat-label"),r(52,"Avatar URL"),i(),g(53,"input",25),n(54,"mat-hint"),r(55,"Paste an image link you want to display."),i()(),n(56,"mat-form-field",16)(57,"mat-label"),r(58,"Phone number"),i(),g(59,"input",26),i(),n(60,"mat-form-field",16)(61,"mat-label"),r(62,"Bio"),i(),g(63,"textarea",27),i()()(),n(64,"div",13)(65,"h3",14)(66,"mat-icon"),r(67,"workspace_premium"),i(),r(68," Professional details"),i(),n(69,"div",28)(70,"label"),r(71,"Languages"),i(),n(72,"div",29),p(73,Oe,4,1,"span",30),n(74,"input",31),b("keydown.enter",function(l){h(t);let s=d();return x(s.onChipEnter("languages",l))}),i()()(),n(75,"div",28)(76,"label"),r(77,"Hospitals / clinics"),i(),n(78,"div",29),p(79,Me,4,1,"span",30),n(80,"input",31),b("keydown.enter",function(l){h(t);let s=d();return x(s.onChipEnter("hospitals",l))}),i()()(),n(81,"div",28)(82,"label"),r(83,"Education"),i(),n(84,"div",29),p(85,De,4,1,"span",30),n(86,"input",31),b("keydown.enter",function(l){h(t);let s=d();return x(s.onChipEnter("education",l))}),i()()(),n(87,"div",28)(88,"label"),r(89,"Certificates"),i(),n(90,"div",29),p(91,Ne,4,1,"span",30),n(92,"input",31),b("keydown.enter",function(l){h(t);let s=d();return x(s.onChipEnter("certificates",l))}),i()()()(),n(93,"div",13)(94,"h3",14)(95,"mat-icon"),r(96,"video_chat"),i(),r(97," Availability & pricing"),i(),n(98,"div",32)(99,"mat-slide-toggle",33)(100,"mat-icon"),r(101,"chat"),i(),r(102," Chat"),i(),n(103,"mat-slide-toggle",34)(104,"mat-icon"),r(105,"call"),i(),r(106," Voice"),i(),n(107,"mat-slide-toggle",35)(108,"mat-icon"),r(109,"videocam"),i(),r(110," Video"),i()(),n(111,"mat-form-field",16)(112,"mat-label"),r(113,"Voice / video provider"),i(),n(114,"mat-select",36),p(115,Ie,2,2,"mat-option",22),i()(),n(116,"div",37),p(117,Fe,20,2,"div",38),i()(),n(118,"div",13)(119,"h3",14)(120,"mat-icon"),r(121,"policy"),i(),r(122," Policies"),i(),n(123,"div",39)(124,"mat-form-field",19)(125,"mat-label"),r(126,"Cancellation window (hours)"),i(),g(127,"input",40),i(),n(128,"mat-form-field",19)(129,"mat-label"),r(130,"Reschedule window (hours)"),i(),g(131,"input",41),i(),n(132,"mat-slide-toggle",42),r(133,"Refund policy enabled"),i()(),n(134,"div",43)(135,"button",10),b("click",function(){h(t);let l=d();return x(l.reset())}),n(136,"mat-icon"),r(137,"refresh"),i(),r(138," Reset "),i(),n(139,"button",44),b("click",function(){h(t);let l=d();return x(l.save())}),n(140,"mat-icon"),r(141),i(),r(142),i()()()(),n(143,"aside",45)(144,"div",46)(145,"header",47),g(146,"img",48),n(147,"div",49)(148,"h3"),r(149),i(),n(150,"div",50)(151,"span",51),r(152),i(),g(153,"span",52),n(154,"span",53),r(155),i()(),p(156,ke,5,1,"div",54)(157,Ve,5,1,"div",54),i()(),n(158,"section",55)(159,"h4")(160,"mat-icon"),r(161,"info"),i(),r(162," About"),i(),n(163,"p",8),r(164),i()(),p(165,Re,7,1,"section",56),n(166,"section",55)(167,"h4")(168,"mat-icon"),r(169,"chat"),i(),r(170," Languages"),i(),n(171,"div",29),p(172,ze,2,1,"span",30)(173,$e,2,0,"span",57),i()(),n(174,"section",55)(175,"h4")(176,"mat-icon"),r(177,"local_hospital"),i(),r(178," Hospitals / clinics"),i(),n(179,"ul"),p(180,je,2,1,"li",58)(181,Le,2,0,"li",57),i()(),n(182,"section",55)(183,"h4")(184,"mat-icon"),r(185,"school"),i(),r(186," Education"),i(),n(187,"ul"),p(188,Be,2,1,"li",58)(189,He,2,0,"li",57),i()(),n(190,"section",55)(191,"h4")(192,"mat-icon"),r(193,"workspace_premium"),i(),r(194," Certificates"),i(),n(195,"ul"),p(196,Ye,2,1,"li",58)(197,qe,2,0,"li",57),i()()()(),T()}if(o&2){let t=d();a(),c("ngIf",t.apiError),a(),c("formGroup",t.form),a(3),c("src",t.fc.avatarUrl.value||"https://i.pravatar.cc/160?img=15",M),a(7),c("disabled",t.saving),a(4),c("disabled",t.saving),a(2),u(t.saving?"hourglass_bottom":"save"),a(2),u(t.saving?"Saving\u2026":"Save changes"),a(19),c("value",null),a(2),c("ngForOf",t.departments),a(32),c("ngForOf",t.array("languages").controls),a(6),c("ngForOf",t.array("hospitals").controls),a(6),c("ngForOf",t.array("education").controls),a(6),c("ngForOf",t.array("certificates").controls),a(24),c("ngForOf",t.meetingProviders),a(2),c("ngForOf",t.pricingControls()),a(18),c("disabled",t.saving),a(4),c("disabled",t.saving),a(2),u(t.saving?"hourglass_bottom":"save"),a(),P(" ",t.saving?"Saving\u2026":"Save changes"," "),a(4),c("src",t.preview().avatarUrl,M),a(3),u(t.preview().fullName),a(3),u(t.preview().title),a(3),u(t.preview().department),a(),c("ngIf",t.preview().yearsOfExperience),a(),c("ngIf",t.preview().phone),a(7),u(t.preview().bio||"Fill in your bio to showcase your expertise."),a(),c("ngIf",t.preview().pricing.length>0),a(7),c("ngForOf",t.preview().languages),a(),c("ngIf",!t.preview().languages.length),a(7),c("ngForOf",t.preview().hospitals),a(),c("ngIf",!t.preview().hospitals.length),a(7),c("ngForOf",t.preview().education),a(),c("ngIf",!t.preview().education.length),a(7),c("ngForOf",t.preview().certificates),a(),c("ngIf",!t.preview().certificates.length)}}function Ke(o,e){o&1&&(n(0,"div",72)(1,"mat-icon"),r(2,"hourglass_empty"),i(),n(3,"span"),r(4,"Loading your profile\u2026"),i()())}var Qe=["CHAT","VOICE","VIDEO"],he=class o{fb=w(W);profileService=w(pe);snackBar=w(me);departments=[];meetingProviders=["Google Meet","Zoom","Microsoft Teams","Webex"];form;loadingProfile=!0;saving=!1;apiError=null;profileSub;formChangesSub;currentProfile=null;previewModel=this.buildPreview();constructor(){this.form=this.buildForm(),this.formChangesSub=this.form.valueChanges.subscribe(()=>this.updatePreview()),this.updatePreview()}ngOnInit(){this.profileSub=this.profileService.loadProfile().subscribe({next:e=>{console.log("Loaded doctor profile:",e),e.status==="REJECTED"&&this.snackBar.open(`Your profile was rejected.
Reason: ${e.rejectionReason}`,"Close"),this.applyProfile(e),this.loadingProfile=!1},error:e=>{this.apiError=e,this.loadingProfile=!1}}),this.fetchDepartments()}ngOnDestroy(){this.profileSub?.unsubscribe(),this.formChangesSub?.unsubscribe()}fetchDepartments(){this.profileService.getDepartments().subscribe({next:e=>{console.log("Fetched departments:",e),this.departments=Array.isArray(e)?e:[],console.log("Processed departments:",this.departments)},error:e=>{let t=typeof e=="string"?e:e?.message||"Unknown error"}})}get fc(){return{fullName:this.form.get("fullName"),title:this.form.get("title"),department:this.form.get("department"),yearsOfExperience:this.form.get("yearsOfExperience"),licenseNumber:this.form.get("licenseNumber"),avatarUrl:this.form.get("avatarUrl"),bio:this.form.get("bio"),phone:this.form.get("phone"),videoProvider:this.form.get("videoProvider"),cancellationPolicy:this.form.get("cancellationPolicy"),noShowPolicy:this.form.get("noShowPolicy"),reschedulePolicy:this.form.get("reschedulePolicy")}}get availabilityGroup(){return this.form.get("availability")}get availabilityChat(){return this.availabilityGroup.get("chat")}get availabilityVoice(){return this.availabilityGroup.get("voice")}get availabilityVideo(){return this.availabilityGroup.get("video")}get pricingArray(){return this.form.get("pricing")}pricingControls(){return this.pricingArray.controls}array(e){return this.form.get(e)}trackIndex=e=>e;onChipEnter(e,t){let m=t.target,l=(m?.value??"").trim();l&&(this.array(e).push(this.fb.control(l,{nonNullable:!0})),m.value="")}removeChip(e,t){this.array(e).removeAt(t)}reset(){this.currentProfile?this.applyProfile(this.currentProfile):(this.form.reset(this.buildForm().getRawValue()),this.updatePreview())}save(){if(console.log("save 1"),this.form.invalid){this.form.markAllAsTouched();return}console.log("save 2");let e=this.preparePayload();if(!e)return;console.log("save 3");let{payload:t,languagesCount:m,allServicesCovered:l,hasAvailability:s}=e,f=[];if(t.title||f.push("professional title"),t.bio||f.push("bio"),t.department||f.push("department"),(t.yearsOfExperience==null||t.yearsOfExperience<=0)&&f.push("years of experience"),t.licenseNumber||f.push("license number"),t.avatarUrl||f.push("profile image"),t.phone||f.push("phone number"),m===0&&f.push("languages"),(!t.pricing||t.pricing.length===0||!l)&&f.push("pricing for chat, voice, and video"),s||f.push("choose at least one availability option"),console.log("save 4"),f.length){let _="Please complete: "+f.join(", ");this.apiError=_,this.snackBar.open(_,"Close",{duration:6e3,panelClass:["snack-error"]});return}console.log("save 5"),this.saving=!0,this.apiError=null,this.profileService.updateProfile(t).pipe(F(()=>this.profileService.refreshProfile()),I(()=>this.saving=!1)).subscribe({next:_=>{console.log("Profile updated successfully:",_),this.applyProfile(_),this.snackBar.open("Request sent successfully. Please wait for the admin\u2019s feedback.","OK",{duration:2500})},error:_=>{console.error("Error updating profile:",_),this.apiError=_}})}preview(){return this.previewModel}priceLabel(e){return`${e.price} ${e.currency}`}buildForm(){return this.fb.group({fullName:this.fb.control("Doctor name",{nonNullable:!0}),title:this.fb.control("",{nonNullable:!0}),department:this.fb.control(null),yearsOfExperience:this.fb.control(null),licenseNumber:this.fb.control("",{nonNullable:!0}),avatarUrl:this.fb.control("https://i.pravatar.cc/160?img=15",{nonNullable:!0}),bio:this.fb.control("",{nonNullable:!0}),phone:this.fb.control("",{nonNullable:!0}),languages:this.fb.array([],{updateOn:"change"}),hospitals:this.fb.array([],{updateOn:"change"}),education:this.fb.array([],{updateOn:"change"}),certificates:this.fb.array([],{updateOn:"change"}),availability:this.fb.group({chat:this.fb.control(!0,{nonNullable:!0}),voice:this.fb.control(!1,{nonNullable:!0}),video:this.fb.control(!0,{nonNullable:!0})}),pricing:this.fb.array([this.createPricingGroup("Chat"),this.createPricingGroup("Voice"),this.createPricingGroup("Video")]),videoProvider:this.fb.control("Google Meet",{nonNullable:!0}),cancellationPolicy:this.fb.control(2,{validators:[D.min(0)]}),noShowPolicy:this.fb.control(!0,{nonNullable:!0}),reschedulePolicy:this.fb.control(1,{validators:[D.min(0)]})})}createPricingGroup(e){return this.fb.group({service:[e],USD:[0],SAR:[0],EGP:[0],AED:[0]})}preparePayload(){let e=this.form.getRawValue(),t=v=>(v??[]).map(C=>(C??"").trim()).filter(C=>!!C),m=t(e.languages),l=t(e.hospitals),s=t(e.education),f=t(e.certificates),_=[];this.pricingControls().forEach(v=>{let C=(v.get("service")?.value||"").toUpperCase();[{currency:"USD",price:Number(v.get("USD")?.value)||0},{currency:"SAR",price:Number(v.get("SAR")?.value)||0},{currency:"EGP",price:Number(v.get("EGP")?.value)||0},{currency:"AED",price:Number(v.get("AED")?.value)||0}].forEach(N=>{_.push({service:C,currency:N.currency,price:N.price})})});let S=this.availabilityGroup.getRawValue(),xe=S.chat||S.voice||S.video,O=v=>{let C=Number(v);return Number.isFinite(C)?C:void 0},be=O(e.yearsOfExperience),ye=O(e.cancellationPolicy),Ce=O(e.reschedulePolicy),Pe=typeof e.department=="object"?e.department?.name:this.departments.find(v=>v.id===e.department)?.name,y={fullName:e.fullName?.trim()||void 0,title:e.title?.trim()||void 0,bio:e.bio?.trim()||void 0,department:Pe,yearsOfExperience:be,licenseNumber:e.licenseNumber?.trim()||void 0,avatarUrl:e.avatarUrl?.trim()||void 0,phone:e.phone?.trim()||void 0,languages:m,hospitals:l,education:s,certificates:f,pricing:_,availability:S,videoProvider:e.videoProvider?.trim()||void 0,cancellationPolicy:ye,noShowPolicy:e.noShowPolicy??void 0,reschedulePolicy:Ce};y.languages?.length||delete y.languages,y.hospitals?.length||delete y.hospitals,y.education?.length||delete y.education,y.certificates?.length||delete y.certificates,y.pricing?.length||delete y.pricing;let Ee=Qe.every(v=>_.some(C=>C.service===v));return{payload:y,languagesCount:m.length,allServicesCovered:Ee,hasAvailability:xe}}applyProfile(e){this.currentProfile=e,this.apiError=null,this.fc.fullName.setValue(e.fullName??"Doctor name"),this.fc.title.setValue(e.title??""),this.fc.department.setValue(e.department??null),this.fc.yearsOfExperience.setValue(e.yearsOfExperience??null),this.fc.licenseNumber.setValue(e.licenseNumber??""),this.fc.avatarUrl.setValue(e.avatarUrl??""),this.fc.bio.setValue(e.bio??""),this.fc.phone.setValue(e.phone??""),this.fc.videoProvider.setValue(e.videoProvider??"Google Meet"),this.fc.cancellationPolicy.setValue(e.cancellationPolicy??2),this.fc.noShowPolicy.setValue(e.noShowPolicy??!0),this.fc.reschedulePolicy.setValue(e.reschedulePolicy??1),this.setArray("languages",e.languages??[]),this.setArray("hospitals",e.hospitals??[]),this.setArray("education",e.education??[]),this.setArray("certificates",e.certificates??[]);let t=e.availability??{chat:!0,voice:!1,video:!0};this.availabilityGroup.patchValue({chat:!!t.chat,voice:!!t.voice,video:!!t.video});let m=new Map;(e.pricing??[]).forEach(l=>m.set(l.service,l)),this.pricingControls().forEach(l=>{let s=l.getRawValue(),f=s.service,_=m.get(f);l.patchValue({currency:_?.currency??s.currency??"USD",price:_?.price??0})}),this.form.markAsPristine(),this.updatePreview()}setArray(e,t){let m=this.array(e);for(;m.length;)m.removeAt(0);(t??[]).filter(l=>!!l&&typeof l=="string").forEach(l=>m.push(this.fb.control(l,{nonNullable:!0})))}updatePreview(){let e=this.form.getRawValue(),t=typeof e.department=="object"?e.department?.name:this.departments.find(l=>l.id===e.department)?.name??"Department pending",m=this.pricingControls().map(l=>l.getRawValue()).filter(l=>Number(l.price??0)>0).map(l=>({service:l.service,currency:(l.currency??"USD").toUpperCase(),price:Number(l.price??0)}));this.previewModel={fullName:e.fullName||"Doctor name",title:e.title||"Speciality",department:t,yearsOfExperience:e.yearsOfExperience??void 0,licenseNumber:e.licenseNumber||void 0,avatarUrl:e.avatarUrl||"https://i.pravatar.cc/160?img=15",bio:e.bio||"",phone:e.phone||void 0,languages:e.languages??[],hospitals:e.hospitals??[],education:e.education??[],certificates:e.certificates??[],pricing:m,availability:this.availabilityGroup.getRawValue(),videoProvider:e.videoProvider??void 0}}buildPreview(){return{fullName:"Doctor name",title:"Speciality",department:"Department pending",yearsOfExperience:void 0,licenseNumber:void 0,avatarUrl:"https://i.pravatar.cc/160?img=15",bio:"",phone:void 0,languages:[],hospitals:[],education:[],certificates:[],pricing:[],availability:{chat:!0,voice:!1,video:!0},videoProvider:void 0}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=k({type:o,selectors:[["app-doc-profile"]],decls:4,vars:4,consts:[["loadingState",""],[1,"profile-shell"],[4,"ngIf","ngIfElse"],["class","alerts",4,"ngIf"],[1,"panel","form-panel",3,"formGroup"],[1,"panel-head"],[1,"id"],["alt","avatar",1,"avatar",3,"src"],[1,"muted"],[1,"actions"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-flat-button","","color","primary","type","button",1,"responsive-btn",3,"click","disabled"],[1,"btn-text"],[1,"section"],[1,"section-title"],[1,"grid"],["appearance","outline",1,"full"],["matInput","","formControlName","fullName"],["matInput","","formControlName","title","placeholder","Consultant cardiologist, GP, etc."],["appearance","outline"],["formControlName","department"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","min","0","formControlName","yearsOfExperience"],["matInput","","formControlName","licenseNumber"],["matInput","","formControlName","avatarUrl"],["matInput","","formControlName","phone","placeholder","+20xxxxxxxxxx"],["matInput","","rows","4","formControlName","bio"],[1,"chip-row"],[1,"chips"],["class","chip",4,"ngFor","ngForOf"],["placeholder","Add & Enter",1,"chip-input",3,"keydown.enter"],["formGroupName","availability",1,"mods"],["formControlName","chat"],["formControlName","voice"],["formControlName","video"],["formControlName","videoProvider"],["formArrayName","pricing"],["class","pricing-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"policy-grid"],["matInput","","type","number","min","0","formControlName","cancellationPolicy"],["matInput","","type","number","min","0","formControlName","reschedulePolicy"],["formControlName","noShowPolicy"],[1,"footer-actions"],["mat-flat-button","","color","primary","type","button",3,"click","disabled"],[1,"panel","preview-panel"],[1,"doc-card"],[1,"head"],["alt","",1,"avatar-lg",3,"src"],[1,"meta"],[1,"sub"],[1,"title"],[1,"dot"],[1,"pill"],["class","sub",4,"ngIf"],[1,"preview-section"],["class","preview-section",4,"ngIf"],["class","muted",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alerts"],[1,"chip"],["type","button",1,"x",3,"click"],[1,"pricing-row",3,"formGroupName"],[1,"currency-grid"],["matInput","","type","number","formControlName","USD"],["matInput","","type","number","formControlName","SAR"],["matInput","","type","number","formControlName","EGP"],["matInput","","type","number","formControlName","AED"],[1,"pricing-preview"],["class","price-pill",4,"ngFor","ngForOf"],[1,"price-pill"],[4,"ngIf"],[1,"loading-state"]],template:function(t,m){if(t&1&&(n(0,"div",1),p(1,Je,198,35,"ng-container",2),i(),p(2,Ke,5,0,"ng-template",null,0,U)),t&2){let l=A(3);G("loading",m.loadingProfile),a(),c("ngIf",!m.loadingProfile)("ngIfElse",l)}},dependencies:[$,R,z,Z,j,H,L,B,Q,Y,K,q,J,re,ne,te,ie,ce,le,ge,ue,de,ve,_e,ae,oe,ee,X,fe,se],styles:['@charset "UTF-8";.profile-shell[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 360px;gap:1.25rem;padding:1.25rem}.profile-shell.loading[_ngcontent-%COMP%]{opacity:.7}@media (max-width: 1100px){.profile-shell[_ngcontent-%COMP%]{grid-template-columns:1fr}}.alerts[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:14px;border:1px solid rgba(255,150,150,.35);background:#ff5f5f1f;color:#ffd4d4}.loading-state[_ngcontent-%COMP%]{grid-column:1/-1;min-height:280px;display:grid;place-items:center;gap:.5rem;color:var(--muted)}.loading-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:38px;width:38px;height:38px}.panel[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff08,#ffffff05);border:1px solid rgba(255,255,255,.08);border-radius:18px;box-shadow:0 10px 40px #00000040;overflow:hidden;animation:_ngcontent-%COMP%_fadeUp .4s ease both}@keyframes _ngcontent-%COMP%_fadeUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}.form-panel[_ngcontent-%COMP%]{padding:1rem 1rem 1.5rem}.panel-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:0 0 1rem;border-bottom:1px solid rgba(255,255,255,.06)}.panel-head[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.9rem}.panel-head[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:16px;object-fit:cover;box-shadow:0 5px 18px #00000059}.panel-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:800;letter-spacing:.2px}.panel-head[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:var(--muted);margin:.15rem 0 0}.panel-head[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.section[_ngcontent-%COMP%]{padding:1rem 0 .6rem}.section[_ngcontent-%COMP%] + .section[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.06);margin-top:1rem}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.2rem 0 .9rem;font-weight:700}.section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.9rem}.grid[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{grid-column:1/-1}@media (max-width: 720px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chip-row[_ngcontent-%COMP%]{margin:1rem 0}.chip-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:500;color:var(--muted);margin-bottom:.4rem;letter-spacing:.3px}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem;padding:.4rem;background:#ffffff08;border-radius:.6rem;transition:border .2s ease}.chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid rgba(255,255,255,.15);padding:.35rem .7rem;border-radius:999px;display:inline-flex;align-items:center;gap:.35rem;color:var(--text);font-size:.85rem;transition:all .2s ease}.chip[_ngcontent-%COMP%]:hover{background:#ffffff1f;border-color:#ffffff40}.chip[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{border:none;background:transparent;color:var(--muted);cursor:pointer;line-height:1;font-weight:700;transition:color .2s}.chip[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]:hover{color:var(--primary)}.chip-input[_ngcontent-%COMP%]{background:transparent;border:1px dashed rgba(255,255,255,.2);color:var(--text);padding:.35rem .7rem;border-radius:999px;outline:none;min-width:120px;font-size:.85rem;transition:border-color .2s ease,background .2s ease}.chip-input[_ngcontent-%COMP%]:focus{border-color:var(--primary);background:#ffffff0d}.mods[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.6rem}.pricing-grid[_ngcontent-%COMP%]{display:grid;gap:.6rem}.pricing-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto repeat(2,minmax(0,1fr));gap:.6rem;align-items:center;padding:.55rem;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:#ffffff05}.service-chip[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;padding:.35rem .75rem;border-radius:999px;background:#2a76b72e;border:1px solid rgba(42,118,183,.35);color:#b9d9ff;font-size:.85rem;font-weight:600}.policy-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.9rem;align-items:center}.policy-grid[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{grid-column:1/-1}.footer-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.8rem}.preview-panel[_ngcontent-%COMP%]{padding:.9rem}.doc-card[_ngcontent-%COMP%]{padding:1rem;display:grid;gap:1rem}.head[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto minmax(0,1fr);gap:.9rem;align-items:center;border-bottom:1px solid rgba(255,255,255,.06);padding-bottom:.75rem}.avatar-lg[_ngcontent-%COMP%]{width:74px;height:74px;border-radius:18px;object-fit:cover;box-shadow:0 6px 20px #00000059}.meta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:800}.sub[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;margin-top:.15rem;color:var(--muted);font-size:.85rem}.sub[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.pill[_ngcontent-%COMP%]{background:#2a76b729;border:1px solid rgba(42,118,183,.35);color:#b9d9ff;padding:.15rem .6rem;border-radius:999px;font-size:.78rem}.preview-section[_ngcontent-%COMP%]{display:grid;gap:.45rem}.preview-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;margin:0;font-weight:700}.preview-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.1rem;display:grid;gap:.25rem;color:var(--muted)}.pricing-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6rem}.price-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;padding:.4rem .65rem;border-radius:999px;border:1px solid rgba(255,255,255,.08);background:#ffffff08;font-size:.85rem}.price-pill[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.bio[_ngcontent-%COMP%]{margin:0;color:var(--muted);line-height:1.5}.muted[_ngcontent-%COMP%]{color:var(--muted)}.currency-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;grid-column:1/-1}  .snack-error{background-color:#b71c1c!important;color:#fff!important;font-weight:500}.responsive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;padding:.6rem 1rem;font-size:.95rem;flex-wrap:wrap;text-align:center}@media (max-width: 480px){.responsive-btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.5rem .8rem}.responsive-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:none}}']})};export{he as DocProfileComponent};
