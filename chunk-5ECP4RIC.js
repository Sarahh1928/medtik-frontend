import{a as f}from"./chunk-APZWTK3L.js";import{a as S,c as E}from"./chunk-EEDQUWWO.js";import"./chunk-GGQ7LRWG.js";import{c as v,d as x,f as c,g as b,h as A,i as F}from"./chunk-NQP6NLRO.js";import{a as w,b as I}from"./chunk-ENKIQ3XX.js";import{Y as k,Z as D}from"./chunk-LVPX6TEL.js";import"./chunk-P6PSD35X.js";import{e as h,h as P}from"./chunk-L73FSOJZ.js";import{$a as g,Fc as _,La as a,Oc as y,Pa as l,Rc as O,Sb as e,Tb as m,Wa as s,bc as u,dc as C,fc as M,qb as p,rb as n,sb as t}from"./chunk-WZIMFKHB.js";var U=()=>["/doctor/appointments"],q=()=>["/doctor/inbox"];function N(r,i){if(r&1&&(n(0,"mat-card",12)(1,"div",13)(2,"mat-icon"),e(3),t(),n(4,"div")(5,"div",14),e(6),t(),n(7,"div",15),e(8),t()()()()),r&2){let o=i.$implicit;p("@fadeUp",void 0),a(3),m(o.icon),a(3),m(o.value),a(2),m(o.label)}}function B(r,i){if(r&1&&(n(0,"div",16)(1,"div",17),e(2),C(3,"date"),t(),n(4,"div",18)(5,"strong"),e(6),t(),n(7,"div",19),e(8),t()(),n(9,"div",20)(10,"button",21)(11,"mat-icon"),e(12,"open_in_new"),t(),e(13," Details "),t(),n(14,"button",22)(15,"mat-icon"),e(16,"forum"),t(),e(17," Chat "),t()()()),r&2){let o=i.$implicit;a(2),m(M(3,5,o.date,"short")),a(4),m(o.patient.fullName),a(2),m(o.appointmentType),a(2),p("routerLink",u(8,U)),a(4),p("routerLink",u(9,q))}}var L=class r{constructor(i){this.doctorService=i}today=[];kpis=[{icon:"event_available",label:"Today\u2019s appts",value:0},{icon:"forum",label:"Unread chats",value:0},{icon:"schedule",label:"Open slots",value:0},{icon:"payments",label:"Week earnings",value:"EGP 0"}];ngOnInit(){this.loadAppointments()}loadAppointments(){this.doctorService.getAppointments().subscribe({next:i=>{let o=new Date().toDateString();this.today=i.filter(d=>new Date(d.date).toDateString()===o),this.kpis[0].value=this.today.length},error:i=>console.error("Failed to load appointments:",i)})}static \u0275fac=function(o){return new(o||r)(l(f))};static \u0275cmp=s({type:r,selectors:[["app-doctor-dashboard"]],decls:31,vars:5,consts:[[1,"grid"],["class","card kpi",4,"ngFor","ngForOf"],[1,"card","span-7"],[1,"timeline"],["class","slot",4,"ngFor","ngForOf"],[1,"card","span-5"],[1,"qa"],["mat-flat-button","","color","primary","routerLink","/doctor/schedule"],["mat-stroked-button","","routerLink","/doctor/appointments"],["mat-stroked-button","","routerLink","/doctor/patients"],["mat-stroked-button","","routerLink","/doctor/inbox"],["mat-stroked-button","","routerLink","/doctor/profile"],[1,"card","kpi"],[1,"kpi-row"],[1,"val"],[1,"lbl"],[1,"slot"],[1,"time"],[1,"who"],[1,"small"],[1,"actions"],["mat-stroked-button","","color","primary",3,"routerLink"],["mat-stroked-button","",3,"routerLink"]],template:function(o,d){o&1&&(n(0,"div",0),g(1,N,9,4,"mat-card",1),n(2,"mat-card",2)(3,"h2"),e(4,"Today"),t(),n(5,"div",3),g(6,B,18,10,"div",4),t()(),n(7,"mat-card",5)(8,"h2"),e(9,"Quick actions"),t(),n(10,"div",6)(11,"button",7)(12,"mat-icon"),e(13,"add"),t(),e(14," Add slots "),t(),n(15,"button",8)(16,"mat-icon"),e(17,"event"),t(),e(18," View appointments "),t(),n(19,"button",9)(20,"mat-icon"),e(21,"group"),t(),e(22," Patient list "),t(),n(23,"button",10)(24,"mat-icon"),e(25,"forum"),t(),e(26," Open inbox "),t(),n(27,"button",11)(28,"mat-icon"),e(29,"badge"),t(),e(30," Edit profile "),t()()()()),o&2&&(p("@stagger",void 0),a(),p("ngForOf",d.kpis),a(),p("@fadeUp",void 0),a(4),p("ngForOf",d.today),a(),p("@fadeUp",void 0))},dependencies:[O,_,P,h,E,S,D,k,I,w,y],styles:[".grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(12,1fr);padding:.5rem}.card[_ngcontent-%COMP%]{background:var(--surface);border-radius:18px;box-shadow:var(--shadow)}.kpi[_ngcontent-%COMP%]{grid-column:span 3}.span-7[_ngcontent-%COMP%]{grid-column:span 7}.span-5[_ngcontent-%COMP%]{grid-column:span 5}@media (max-width: 1200px){.kpi[_ngcontent-%COMP%]{grid-column:span 6}.span-7[_ngcontent-%COMP%], .span-5[_ngcontent-%COMP%]{grid-column:span 12}}@media (max-width: 600px){.kpi[_ngcontent-%COMP%]{grid-column:span 12}}.kpi[_ngcontent-%COMP%]   .kpi-row[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.kpi[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#8fc7ff}.kpi[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;line-height:1}.kpi[_ngcontent-%COMP%]   .lbl[_ngcontent-%COMP%]{color:var(--muted)}h2[_ngcontent-%COMP%]{margin:.25rem 0 .5rem}.timeline[_ngcontent-%COMP%]{display:grid;gap:.5rem}.slot[_ngcontent-%COMP%]{display:grid;grid-template-columns:90px 1fr auto;align-items:center;gap:.75rem;padding:.6rem .75rem;border:1px solid rgba(255,255,255,.06);border-radius:14px}.time[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.3px}.who[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:var(--muted)}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.qa[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.6rem}.qa[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-radius:12px}"],data:{animation:[v("stagger",[b(":enter",[A(".card",[c({opacity:0,transform:"translateY(8px)"}),F(80,x("300ms ease-out",c({opacity:1,transform:"none"})))])])]),v("fadeUp",[b(":enter",[c({opacity:0,transform:"translateY(6px)"}),x("280ms ease-out",c({opacity:1,transform:"none"}))])])]}})},T=class r{constructor(i){this.doctorService=i}appointments=[];ngOnInit(){this.doctorService.getAppointments().subscribe({next:i=>this.appointments=i,error:i=>console.error("Failed to fetch appointments:",i)})}static \u0275fac=function(o){return new(o||r)(l(f))};static \u0275cmp=s({type:r,selectors:[["app-doc-appointments"]],decls:0,vars:0,template:function(o,d){},encapsulation:2})};export{T as DocAppointmentsComponent,L as DoctorDashboardComponent};
