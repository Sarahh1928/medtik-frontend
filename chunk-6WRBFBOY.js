import{a as ct,b as dt,c as mt,d as pt}from"./chunk-EVHN6P4N.js";import{a as gt,b as ut,c as ft,d as _t,e as vt,f as xt,g as yt,h as J}from"./chunk-DRY4SCIA.js";import{a as rt,b as F}from"./chunk-QKNHZH4W.js";import{a as K,b as B,c as L}from"./chunk-QWICSUZR.js";import"./chunk-F5X5MWHG.js";import{a as lt,b as st}from"./chunk-ICQA4PUC.js";import{a as et,b as it}from"./chunk-HFQD2M5G.js";import"./chunk-WF5OBI5I.js";import"./chunk-3GWAQ66N.js";import"./chunk-CLUQOUFA.js";import{a as at,b as R}from"./chunk-HAB3F6YE.js";import{a as ot}from"./chunk-2T3LKAHM.js";import{a as nt}from"./chunk-HL6VGGPC.js";import"./chunk-6ZCLRSJ3.js";import"./chunk-SU4XVCYB.js";import"./chunk-FGBTXBWS.js";import"./chunk-FMDUD5PD.js";import"./chunk-A7RO7YMV.js";import{a as W,b as A}from"./chunk-4P6M4J7Y.js";import{d as H,h as X}from"./chunk-LC7HZC43.js";import"./chunk-YXOZBBHG.js";import{f as Q,k as Z,z as P}from"./chunk-CCREW7CN.js";import"./chunk-WSZ2ZTRK.js";import{T as tt,Y as D,Z as V}from"./chunk-WXJKX6WL.js";import{$b as d,Hc as E,Nb as m,Ob as i,Pb as o,Qb as q,Xb as C,Zb as u,_a as l,a as M,b as h,db as k,ed as G,fa as b,fd as Y,gd as U,jc as N,kb as I,la as f,lc as w,ma as _,nc as a,oc as p,pb as g,rd as T,sc as v,tc as x,uc as y,wa as S}from"./chunk-PCHMKQLW.js";function bt(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().all)}}function St(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().appointment)}}function Mt(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().message)}}function ht(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().payment)}}function kt(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().record)}}function Nt(r,n){if(r&1&&(i(0,"span",21),a(1),o()),r&2){let t=d();l(),p(t.counts().system)}}function wt(r,n){if(r&1&&(i(0,"span",40),a(1),o()),r&2){let t=d().$implicit;l(),p(t.pill)}}function Et(r,n){if(r&1&&(i(0,"div",41),a(1),o()),r&2){let t=d().$implicit;l(),p(t.body)}}function Ot(r,n){if(r&1){let t=C();i(0,"button",42),u("click",function(){f(t);let c=d().$implicit,s=d(2);return _(s.open(c))}),a(1),o()}if(r&2){let t=d().$implicit;l(),p(t.cta.label)}}function It(r,n){if(r&1){let t=C();i(0,"div",26)(1,"div",27)(2,"mat-icon"),a(3),o()(),i(4,"div",28),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.open(c))}),i(5,"div",29)(6,"div",3),a(7),o(),g(8,wt,2,1,"span",30),o(),g(9,Et,2,1,"div",31),i(10,"div",32)(11,"span",33),a(12),o(),i(13,"span",34),a(14,"\u2022"),o(),i(15,"span",35),a(16),o()()(),i(17,"div",36),g(18,Ot,2,1,"button",37),i(19,"button",38)(20,"mat-icon"),a(21,"more_horiz"),o()(),i(22,"mat-menu",null,0)(24,"button",39),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.toggleRead(c))}),i(25,"mat-icon"),a(26),o(),i(27,"span"),a(28),o()(),i(29,"button",39),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.delete(c))}),i(30,"mat-icon"),a(31,"delete"),o(),i(32,"span"),a(33,"Delete"),o()()()()()}if(r&2){let t=n.$implicit,e=N(23),c=d(2);w("unread",t.status==="unread"),l(),m("ngClass",t.type),l(2),p(c.icon(t.type)),l(4),p(t.title),l(),m("ngIf",t.pill),l(),m("ngIf",t.body),l(2),m("ngClass",t.type),l(),p(t.type),l(4),p(c.when(t)),l(2),m("ngIf",t.cta),l(),m("matMenuTriggerFor",e),l(7),p(t.status==="unread"?"mark_email_read":"mark_email_unread"),l(2),p(t.status==="unread"?"Mark read":"Mark unread")}}function Tt(r,n){if(r&1&&(i(0,"div",22)(1,"div",23),a(2,"Today"),o(),i(3,"div",24),g(4,It,34,14,"div",25),o()()),r&2){let t=d();l(4),m("ngForOf",t.groups().today)}}function Pt(r,n){if(r&1&&(i(0,"span",40),a(1),o()),r&2){let t=d().$implicit;l(),p(t.pill)}}function Dt(r,n){if(r&1&&(i(0,"div",41),a(1),o()),r&2){let t=d().$implicit;l(),p(t.body)}}function Vt(r,n){if(r&1){let t=C();i(0,"button",42),u("click",function(){f(t);let c=d().$implicit,s=d(2);return _(s.open(c))}),a(1),o()}if(r&2){let t=d().$implicit;l(),p(t.cta.label)}}function Wt(r,n){if(r&1){let t=C();i(0,"div",26)(1,"div",27)(2,"mat-icon"),a(3),o()(),i(4,"div",28),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.open(c))}),i(5,"div",29)(6,"div",3),a(7),o(),g(8,Pt,2,1,"span",30),o(),g(9,Dt,2,1,"div",31),i(10,"div",32)(11,"span",33),a(12),o(),i(13,"span",34),a(14,"\u2022"),o(),i(15,"span",35),a(16),o()()(),i(17,"div",36),g(18,Vt,2,1,"button",37),i(19,"button",38)(20,"mat-icon"),a(21,"more_horiz"),o()(),i(22,"mat-menu",null,0)(24,"button",39),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.toggleRead(c))}),i(25,"mat-icon"),a(26),o(),i(27,"span"),a(28),o()()()()()}if(r&2){let t=n.$implicit,e=N(23),c=d(2);w("unread",t.status==="unread"),l(),m("ngClass",t.type),l(2),p(c.icon(t.type)),l(4),p(t.title),l(),m("ngIf",t.pill),l(),m("ngIf",t.body),l(2),m("ngClass",t.type),l(),p(t.type),l(4),p(c.when(t)),l(2),m("ngIf",t.cta),l(),m("matMenuTriggerFor",e),l(7),p(t.status==="unread"?"mark_email_read":"mark_email_unread"),l(2),p(t.status==="unread"?"Mark read":"Mark unread")}}function At(r,n){if(r&1&&(i(0,"div",22)(1,"div",23),a(2,"This week"),o(),i(3,"div",24),g(4,Wt,29,14,"div",25),o()()),r&2){let t=d();l(4),m("ngForOf",t.groups().week)}}function Rt(r,n){if(r&1&&(i(0,"span",40),a(1),o()),r&2){let t=d().$implicit;l(),p(t.pill)}}function Ft(r,n){if(r&1&&(i(0,"div",41),a(1),o()),r&2){let t=d().$implicit;l(),p(t.body)}}function Kt(r,n){if(r&1){let t=C();i(0,"button",42),u("click",function(){f(t);let c=d().$implicit,s=d(2);return _(s.open(c))}),a(1),o()}if(r&2){let t=d().$implicit;l(),p(t.cta.label)}}function Bt(r,n){if(r&1){let t=C();i(0,"div",26)(1,"div",27)(2,"mat-icon"),a(3),o()(),i(4,"div",28),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.open(c))}),i(5,"div",29)(6,"div",3),a(7),o(),g(8,Rt,2,1,"span",30),o(),g(9,Ft,2,1,"div",31),i(10,"div",32)(11,"span",33),a(12),o(),i(13,"span",34),a(14,"\u2022"),o(),i(15,"span",35),a(16),o()()(),i(17,"div",36),g(18,Kt,2,1,"button",37),i(19,"button",38)(20,"mat-icon"),a(21,"more_horiz"),o()(),i(22,"mat-menu",null,0)(24,"button",39),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.toggleRead(c))}),i(25,"mat-icon"),a(26),o(),i(27,"span"),a(28),o()(),i(29,"button",39),u("click",function(){let c=f(t).$implicit,s=d(2);return _(s.delete(c))}),i(30,"mat-icon"),a(31,"delete"),o(),i(32,"span"),a(33,"Delete"),o()()()()()}if(r&2){let t=n.$implicit,e=N(23),c=d(2);w("unread",t.status==="unread"),l(),m("ngClass",t.type),l(2),p(c.icon(t.type)),l(4),p(t.title),l(),m("ngIf",t.pill),l(),m("ngIf",t.body),l(2),m("ngClass",t.type),l(),p(t.type),l(4),p(c.when(t)),l(2),m("ngIf",t.cta),l(),m("matMenuTriggerFor",e),l(7),p(t.status==="unread"?"mark_email_read":"mark_email_unread"),l(2),p(t.status==="unread"?"Mark read":"Mark unread")}}function Lt(r,n){if(r&1&&(i(0,"div",22)(1,"div",23),a(2,"Earlier"),o(),i(3,"div",24),g(4,Bt,34,14,"div",25),o()()),r&2){let t=d();l(4),m("ngForOf",t.groups().earlier)}}function Jt(r,n){r&1&&(i(0,"div",43)(1,"mat-icon"),a(2,"inbox"),o(),i(3,"div"),a(4,"You're all caught up"),o(),i(5,"div",44),a(6,"No notifications match your filters."),o()())}var $t=()=>{let r=new Date;return r.setHours(0,0,0,0),r},zt=(r=new Date)=>{let n=r.getDay()||7,t=new Date(r);return t.setDate(r.getDate()-n+1),t.setHours(0,0,0,0),t},jt=r=>{let n=new Date().getTime(),t=new Date(r).getTime(),e=Math.max(0,n-t),c=Math.floor(e/1e3);if(c<60)return`${c}s ago`;let s=Math.floor(c/60);if(s<60)return`${s}m ago`;let O=Math.floor(s/60);if(O<24)return`${O}h ago`;let j=Math.floor(O/24);return j===1?"Yesterday":`${j}d ago`};var $={categories:{appointment:!0,message:!0,payment:!0,record:!0,system:!0},sound:!0,desktop:!1,emailDigest:"daily"};function qt(){try{let r=localStorage.getItem("notif:settings");return r?JSON.parse(r):$}catch{return $}}var Ct=class r{constructor(n){this.socketService=n}service=b(ot);router=b(H);snack=b(et);dialog=b(ft);socket;all=S([]);settings=S(qt());saveSettings(n){this.settings.set(n);try{localStorage.setItem("notif:settings",JSON.stringify(n))}catch{}this.snack.open("Notification preferences saved","OK",{duration:1200})}query=S("");filter=S("all");visible=E(()=>{let n=this.query().trim().toLowerCase(),t=this.filter();return this.all().filter(e=>t==="all"?!0:e.type===t).filter(e=>!n||e.title.toLowerCase().includes(n)||(e.body??"").toLowerCase().includes(n)).sort((e,c)=>new Date(c.ts).getTime()-new Date(e.ts).getTime())});ngOnInit(){this.loadNotifications(),this.initSocket()}get userId(){let n=localStorage.getItem("medtik_token");if(!n)return 0;try{return JSON.parse(atob(n.split(".")[1])).id}catch{return 0}}get role(){let n=localStorage.getItem("medtik_token");if(!n)return 0;try{return JSON.parse(atob(n.split(".")[1])).role}catch{return 0}}initSocket(){this.socketService.notification$.subscribe(n=>{let t={id:n.id.toString(),type:n.type?.toLowerCase()??"system",status:"unread",title:n.title,body:n.message,ts:n.createdAt};this.all.update(e=>[t,...e]),this.snack.open("New notification","View",{duration:2e3}).onAction().subscribe(()=>{this.router.navigate(["/patient/notifications"])})})}loadNotifications(){this.service.getNotifications().subscribe({next:n=>{let t=n.map(e=>({id:e.id.toString(),type:e.type?.toLowerCase()??"system",status:e.read?"read":"unread",title:e.title,body:e.message,ts:e.createdAt}));this.all.set(t)},error:n=>{console.error(n),this.snack.open("Failed to load notifications","OK",{duration:1500})}})}ngOnDestroy(){this.socket&&this.socket.disconnect()}groups=E(()=>{let n=$t().getTime(),t=zt(new Date).getTime(),e={today:[],week:[],earlier:[]};for(let c of this.visible()){let s=new Date(c.ts).getTime();s>=n?e.today.push(c):s>=t?e.week.push(c):e.earlier.push(c)}return e});counts=E(()=>{let n={all:0,appointment:0,message:0,payment:0,record:0,system:0};for(let t of this.all())t.status==="unread"&&(n.all++,n[t.type]++);return n});icon(n){switch(n){case"appointment":return"event_available";case"message":return"chat";case"payment":return"receipt_long";case"record":return"folder_shared";case"system":return"notifications"}}when(n){return jt(n.ts)}open(n){this.markRead(n),n.cta?.route?this.router.navigate(n.cta.route):n.cta?.external&&window.open(n.cta.external,"_blank")}markRead(n){this.service.markNotificationRead(n.id).subscribe({next:()=>{this.all.update(t=>t.map(e=>e.id===n.id?h(M({},e),{read:!0}):e)),this.service.decrementUnreadCount(),this.snack.open("Marked as read","OK",{duration:1200})},error:t=>{console.error("\u274C Failed to mark read:",t),this.snack.open("Failed to mark read","OK",{duration:1500})}})}toggleRead(n){console.log("Toggling read status for",n),this.service.markNotificationRead(n.id).subscribe({next:()=>{console.log("\u2705 Toggled read status"),this.all.update(t=>t.map(e=>e.id===n.id?h(M({},e),{read:e.status==="unread"?"read":"unread"}):e)),n.status==="unread"&&this.service.decrementUnreadCount()}})}clear(n){confirm("Clear notifications?")&&(!n||n==="all"?this.all.set([]):this.all.update(t=>t.filter(e=>e.type!==n)))}delete(n){let t=!1;n.status==="unread"&&(t=!0),this.service.deleteNotification(n.id).subscribe({next:()=>{this.all.update(e=>e.filter(c=>c.id!==n.id)),t&&this.service.decrementUnreadCount(),this.snack.open("Notification deleted","OK",{duration:1500})},error:e=>{console.error("\u274C Failed to delete notification:",e),this.snack.open("Failed to delete notification","OK",{duration:1500})}})}markAllRead(){this.service.markallNotificationRead().subscribe({next:()=>{this.all.update(n=>n.map(t=>t.status==="unread"?h(M({},t),{status:"read"}):t))},error:n=>{console.error("\u274C Failed to mark all as read:",n),this.snack.open("Failed to mark all as read","OK",{duration:1500})}})}clearAll(){confirm("Are you sure you want to delete all notifications?")&&this.service.clearAllNotifications().subscribe({next:()=>{this.all.set([]),this.snack.open("All notifications deleted","OK",{duration:1500})},error:n=>{console.error("\u274C Failed to clear notifications:",n),this.snack.open("Failed to clear notifications","OK",{duration:1500})}})}openSettings(){let n=JSON.parse(JSON.stringify(this.settings()));this.dialog.open(z,{panelClass:"medtik-dialog",width:"min(92vw, 720px)",data:n}).afterClosed().subscribe(e=>{e&&this.saveSettings(e)})}static \u0275fac=function(t){return new(t||r)(k(nt))};static \u0275cmp=I({type:r,selectors:[["app-notifications"]],decls:60,vars:12,consts:[["menu","matMenu"],[1,"notif-wrap"],[1,"toolbar"],[1,"title"],[1,"tools"],[1,"search"],["type","text","placeholder","Search notifications\u2026",3,"input","value"],["mat-stroked-button","","matTooltip","Mark all as read",3,"click"],["mat-stroked-button","","color","warn","matTooltip","Delete all notifications",3,"click"],["mat-flat-button","","color","primary",3,"click"],[1,"filters","card"],[3,"change","value"],["value","all"],["class","badge",4,"ngIf"],["value","appointment"],["value","message"],["value","payment"],["value","record"],["value","system"],["class","group",4,"ngIf"],["class","empty card",4,"ngIf"],[1,"badge"],[1,"group"],[1,"head"],[1,"list"],["class","item",3,"unread",4,"ngFor","ngForOf"],[1,"item"],[1,"icon",3,"ngClass"],[1,"content",3,"click"],[1,"row1"],["class","pill",4,"ngIf"],["class","row2",4,"ngIf"],[1,"meta"],[1,"kind",3,"ngClass"],[1,"dot"],[1,"ts"],[1,"actions"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","More",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"pill"],[1,"row2"],["mat-stroked-button","",3,"click"],[1,"empty","card"],[1,"muted"]],template:function(t,e){t&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-icon"),a(4,"notifications_active"),o(),i(5,"h2"),a(6,"Notifications"),o()(),i(7,"div",4)(8,"div",5)(9,"input",6),u("input",function(s){return e.query.set(s.target.value)}),o(),i(10,"mat-icon"),a(11,"search"),o()(),i(12,"button",7),u("click",function(){return e.markAllRead()}),i(13,"mat-icon"),a(14,"done_all"),o(),a(15," Mark all read "),o(),i(16,"button",8),u("click",function(){return e.clearAll()}),i(17,"mat-icon"),a(18,"delete_sweep"),o(),a(19," Clear All "),o(),i(20,"button",9),u("click",function(){return e.openSettings()}),i(21,"mat-icon"),a(22,"tune"),o(),a(23," Settings "),o()()(),i(24,"div",10)(25,"mat-button-toggle-group",11),u("change",function(s){return e.filter.set(s.value)}),i(26,"mat-button-toggle",12)(27,"mat-icon"),a(28,"all_inclusive"),o(),a(29," All "),g(30,bt,2,1,"span",13),o(),i(31,"mat-button-toggle",14)(32,"mat-icon"),a(33,"event_available"),o(),a(34," Appointments "),g(35,St,2,1,"span",13),o(),i(36,"mat-button-toggle",15)(37,"mat-icon"),a(38,"chat"),o(),a(39," Messages "),g(40,Mt,2,1,"span",13),o(),i(41,"mat-button-toggle",16)(42,"mat-icon"),a(43,"receipt_long"),o(),a(44," Payments "),g(45,ht,2,1,"span",13),o(),i(46,"mat-button-toggle",17)(47,"mat-icon"),a(48,"folder_shared"),o(),a(49," Records "),g(50,kt,2,1,"span",13),o(),i(51,"mat-button-toggle",18)(52,"mat-icon"),a(53,"notifications"),o(),a(54," System "),g(55,Nt,2,1,"span",13),o()()(),g(56,Tt,5,1,"div",19)(57,At,5,1,"div",19)(58,Lt,5,1,"div",19)(59,Jt,7,0,"div",20),o()),t&2&&(l(9),m("value",e.query()),l(16),m("value",e.filter()),l(5),m("ngIf",e.counts().all),l(5),m("ngIf",e.counts().appointment),l(5),m("ngIf",e.counts().message),l(5),m("ngIf",e.counts().payment),l(5),m("ngIf",e.counts().record),l(5),m("ngIf",e.counts().system),l(),m("ngIf",e.groups().today.length),l(),m("ngIf",e.groups().week.length),l(),m("ngIf",e.groups().earlier.length),l(),m("ngIf",!e.groups().today.length&&!e.groups().week.length&&!e.groups().earlier.length))},dependencies:[T,G,Y,U,X,P,A,W,V,D,tt,st,lt,L,K,B,pt,dt,ct,mt,R,it,J,F],styles:[".notif-wrap[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:.75rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:800;letter-spacing:.2px}.toolbar[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:min(540px,75vw);padding:.55rem 2.2rem .55rem .9rem;border:1px solid rgba(255,255,255,.08);border-radius:12px;background:#ffffff05;color:var(--text);outline:none}.toolbar[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);opacity:.7}.filters[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-radius:16px;margin-bottom:.9rem}.filters[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border:none;background:transparent}.filters[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{border-radius:999px!important;margin-right:.35rem;border:1px solid rgba(255,255,255,.08)!important;background:#ffffff05}.filters[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background:#ffffff0f!important}.filters[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-left:.35rem;font-size:.75rem;padding:.05rem .4rem;border-radius:999px;background:#ffffff1f}.group[_ngcontent-%COMP%]{margin-top:.5rem}.group[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{font-weight:800;letter-spacing:.2px;opacity:.9;margin:.5rem 0 .35rem}.list[_ngcontent-%COMP%]{display:grid;gap:.5rem}.item[_ngcontent-%COMP%]{display:grid;grid-template-columns:44px 1fr auto;gap:.75rem;padding:.7rem .75rem;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:#ffffff05;transition:transform .14s var(--ease),background .14s var(--ease),border-color .14s var(--ease)}.item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:#ffffff0a;border-color:#ffffff1f}.item.unread[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #5591ff40 inset}.icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;background:#ffffff0f;border:1px solid rgba(255,255,255,.08)}.icon.appointment[_ngcontent-%COMP%]{color:#7ea6ff}.icon.message[_ngcontent-%COMP%]{color:#65e0b9}.icon.payment[_ngcontent-%COMP%]{color:#ffd17a}.icon.record[_ngcontent-%COMP%]{color:#bba4ff}.icon.system[_ngcontent-%COMP%]{color:#a7b4c5}.content[_ngcontent-%COMP%]{cursor:pointer;display:grid;gap:.25rem}.content[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.2px}.content[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{opacity:.9}.content[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{opacity:.75;display:flex;align-items:center;gap:.4rem}.content[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{opacity:.5}.pill[_ngcontent-%COMP%]{font-size:.75rem;padding:.1rem .5rem;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:#ffffff0d}.kind[_ngcontent-%COMP%]{font-size:.75rem;text-transform:capitalize;padding:.05rem .45rem;border-radius:999px;border:1px solid rgba(255,255,255,.1)}.kind.appointment[_ngcontent-%COMP%]{background:#5591ff1a;border-color:#5591ff4d}.kind.message[_ngcontent-%COMP%]{background:#42d3921a;border-color:#42d3924d}.kind.payment[_ngcontent-%COMP%]{background:#f59e0b1f;border-color:#f59e0b4d}.kind.record[_ngcontent-%COMP%]{background:#b7a4ff1f;border-color:#b7a4ff4d}.kind.system[_ngcontent-%COMP%]{background:#a7b4c51f;border-color:#a7b4c54d}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.empty[_ngcontent-%COMP%]{display:grid;place-items:center;gap:.25rem;padding:2rem 1rem;text-align:center;border-radius:16px;opacity:.9}.empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;opacity:.8}"]})},z=class r{constructor(n,t){this.ref=n;this.data=t;this.model=JSON.parse(JSON.stringify(t||$))}model;save(){this.ref.close(this.model)}static \u0275fac=function(t){return new(t||r)(k(gt),k(ut))};static \u0275cmp=I({type:r,selectors:[["app-notifications-settings-dialog"]],decls:43,vars:8,consts:[["mat-dialog-title",""],[1,"dlg"],[1,"section"],[1,"toggles"],[3,"ngModelChange","ngModel"],["aria-label","Digest frequency",3,"ngModelChange","ngModel"],["value","off"],["value","daily"],["value","weekly"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){t&1&&(i(0,"h2",0)(1,"mat-icon"),a(2,"tune"),o(),a(3," Notifications settings "),o(),i(4,"mat-dialog-content",1)(5,"div",2)(6,"h4"),a(7,"Categories"),o(),i(8,"div",3)(9,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.categories.appointment,s)||(e.model.categories.appointment=s),s}),a(10,"Appointments"),o(),i(11,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.categories.message,s)||(e.model.categories.message=s),s}),a(12,"Messages"),o(),i(13,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.categories.payment,s)||(e.model.categories.payment=s),s}),a(14,"Payments"),o(),i(15,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.categories.record,s)||(e.model.categories.record=s),s}),a(16,"Records"),o(),i(17,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.categories.system,s)||(e.model.categories.system=s),s}),a(18,"System"),o()()(),q(19,"mat-divider"),i(20,"div",2)(21,"h4"),a(22,"Delivery"),o(),i(23,"div",3)(24,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.desktop,s)||(e.model.desktop=s),s}),a(25,"Desktop push"),o(),i(26,"mat-slide-toggle",4),y("ngModelChange",function(s){return x(e.model.sound,s)||(e.model.sound=s),s}),a(27,"Sound"),o()()(),i(28,"div",2)(29,"h4"),a(30,"Email digest"),o(),i(31,"mat-button-toggle-group",5),y("ngModelChange",function(s){return x(e.model.emailDigest,s)||(e.model.emailDigest=s),s}),i(32,"mat-button-toggle",6),a(33,"Off"),o(),i(34,"mat-button-toggle",7),a(35,"Daily"),o(),i(36,"mat-button-toggle",8),a(37,"Weekly"),o()()()(),i(38,"mat-dialog-actions",9)(39,"button",10),a(40,"Cancel"),o(),i(41,"button",11),u("click",function(){return e.save()}),a(42,"Save"),o()()),t&2&&(l(9),v("ngModel",e.model.categories.appointment),l(2),v("ngModel",e.model.categories.message),l(2),v("ngModel",e.model.categories.payment),l(2),v("ngModel",e.model.categories.record),l(2),v("ngModel",e.model.categories.system),l(7),v("ngModel",e.model.desktop),l(2),v("ngModel",e.model.sound),l(5),v("ngModel",e.model.emailDigest))},dependencies:[T,P,Q,Z,J,_t,vt,yt,xt,A,W,V,D,R,at,F,rt,L,K,B],styles:[".dlg[_ngcontent-%COMP%]{display:grid;gap:1rem}.section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:.2rem 0 .5rem;font-weight:700}.toggles[_ngcontent-%COMP%]{display:grid;gap:.5rem;grid-template-columns:repeat(2,minmax(0,1fr))}@media (max-width: 640px){.toggles[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{Ct as NotificationsComponent,z as NotificationsSettingsDialogComponent};
