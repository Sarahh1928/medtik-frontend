import{a as Y,b as Z}from"./chunk-7E725CH7.js";import"./chunk-F5X5MWHG.js";import{a as J,b as Q}from"./chunk-XGLVXY7I.js";import{a as V,b as j}from"./chunk-Y5ANY4EP.js";import"./chunk-MS4AQ6UA.js";import{a as B,b as $,d as H}from"./chunk-ZCFZR4S3.js";import"./chunk-3YF2UIUM.js";import"./chunk-4K5T2QBN.js";import{a as A,b as U,h as z,i as G,m as L,n as D}from"./chunk-LCR2LKFI.js";import"./chunk-BR5LHSVS.js";import"./chunk-OY7Y436C.js";import"./chunk-YCVTR2B7.js";import"./chunk-TR43TC6U.js";import{A as k,b as S,d as c,f as E,g as O,h,j as s,l as y,o as N,r as F}from"./chunk-YN6JIHUF.js";import{b as K}from"./chunk-Q3IINTK6.js";import{a as R,b as q}from"./chunk-W6QHVSTW.js";import{Y as T,Z as I}from"./chunk-YSTQL2PO.js";import{$ as _,Ac as P,Bc as M,Da as C,Ga as a,Mc as x,Nb as n,Ob as w,Ra as v,Wa as p,lb as l,mb as t,nb as e,oa as b,ob as d,xb as u}from"./chunk-HKUWCROW.js";import"./chunk-JKOY2XUY.js";function X(i,r){i&1&&(t(0,"mat-error"),n(1," Name is required (min 3 chars). "),e())}function ee(i,r){if(i&1&&(t(0,"mat-option",39),n(1),e()),i&2){let m=r.$implicit;l("value",m.code),a(),w(m.name)}}function te(i,r){if(i&1&&(t(0,"mat-option",39),n(1),e()),i&2){let m=r.$implicit;l("value",m.code),a(),w(m.name)}}function ne(i,r){if(i&1&&(t(0,"mat-option",39),n(1),e()),i&2){let m=r.$implicit;l("value",m),a(),w(m)}}function oe(i,r){i&1&&(t(0,"mat-error"),n(1," Required. "),e())}function ie(i,r){i&1&&(t(0,"mat-error"),n(1," Required. "),e())}function re(i,r){i&1&&(t(0,"mat-error"),n(1," Min 8 characters. "),e())}function ae(i,r){i&1&&(t(0,"mat-error"),n(1," Use letters and numbers. "),e())}function le(i,r){i&1&&(t(0,"mat-error"),n(1," Passwords don\u2019t match. "),e())}var W=class i{snack=_(V);auth=_(K);avatarUrl=b("https://i.pravatar.cc/120?img=13");countries=[{code:"EG",name:"Egypt"},{code:"SA",name:"Saudi Arabia"},{code:"AE",name:"United Arab Emirates"},{code:"US",name:"United States"},{code:"GB",name:"United Kingdom"}];languages=[{code:"en",name:"English"},{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}];timezones=["Africa/Cairo","Asia/Riyadh","Asia/Dubai","Europe/London","America/New_York"];profileForm=new h({fullName:new s("Sarah Ahmed",{nonNullable:!0,validators:[c.required,c.minLength(3)]}),dob:new s("1992-07-12"),phone:new s("+20 10 1234 5678"),country:new s("EG",{nonNullable:!0}),language:new s("en",{nonNullable:!0}),timezone:new s("Africa/Cairo",{nonNullable:!0})});onPickAvatar(r){let o=r.target?.files?.[0];if(o){try{URL.revokeObjectURL(this.avatarUrl())}catch{}this.avatarUrl.set(URL.createObjectURL(o)),this.snack.open("Photo updated (local preview)","OK",{duration:1500})}}saveProfile(){if(this.profileForm.invalid){this.profileForm.markAllAsTouched();return}this.snack.open("Profile saved","OK",{duration:1200})}passwordForm=new h({oldPassword:new s("",{nonNullable:!0,validators:[c.required]}),newPassword:new s("",{nonNullable:!0,validators:[c.required,c.minLength(8),c.pattern(/^(?=.*[A-Za-z])(?=.*\d).{8,}$/)]}),confirm:new s("",{nonNullable:!0,validators:[c.required]})},{validators:[me]});changePassword(){if(this.passwordForm.invalid){this.passwordForm.markAllAsTouched();return}let{oldPassword:r,newPassword:m,confirm:o}=this.passwordForm.getRawValue(),f={currentPassword:r,newPassword:m,verifyPassword:o};this.auth.changePassword(f).subscribe({next:g=>{this.snack.open(g.message,"OK",{duration:2e3}),this.passwordForm.reset({oldPassword:"",newPassword:"",confirm:""})},error:g=>{this.snack.open(g,"Close",{duration:2500})}}),this.passwordForm.reset({oldPassword:"",newPassword:"",confirm:""}),this.snack.open("Password changed","OK",{duration:1400})}notiForm=new h({push:new s(!0,{nonNullable:!0}),email:new s(!0,{nonNullable:!0}),appt:new s(!0,{nonNullable:!0}),chat:new s(!0,{nonNullable:!0}),marketing:new s(!1,{nonNullable:!0})});saveNotifications(){this.snack.open("Notification preferences saved","OK",{duration:1200})}static \u0275fac=function(m){return new(m||i)};static \u0275cmp=v({type:i,selectors:[["app-settings"]],decls:112,vars:16,consts:[[1,"settings-wrap"],[1,"toolbar"],[1,"title"],[1,"glowdot"],[1,"grid"],[1,"card","neo"],[1,"section-head"],[1,"profile"],[1,"avatar"],["alt","",3,"src"],["matTooltip","Change photo",1,"change"],["type","file","accept","image/*",3,"change"],[1,"form",3,"formGroup"],["appearance","outline",1,"field","full"],["matInput","","formControlName","fullName"],[4,"ngIf"],["appearance","outline",1,"field"],["matInput","","type","date","formControlName","dob"],["matInput","","formControlName","phone"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["formControlName","language"],["formControlName","timezone"],[1,"actions"],["mat-flat-button","","color","primary",1,"neon",3,"click"],[1,"pwd",3,"formGroup"],["matInput","","formControlName","oldPassword","autocomplete","current-password",3,"type"],["matInput","","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","formControlName","confirm","autocomplete","new-password",3,"type"],["mat-stroked-button","",1,"neon",3,"click"],[1,"notis",3,"formGroup"],[1,"row"],[1,"group"],[1,"label"],["formControlName","push"],["formControlName","email"],["formControlName","appt"],["formControlName","chat"],["formControlName","marketing"],[3,"value"]],template:function(m,o){m&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),d(3,"span",3),t(4,"h2"),n(5,"Settings"),e()()(),t(6,"div",4)(7,"section",5)(8,"header",6)(9,"mat-icon"),n(10,"account_circle"),e(),t(11,"h3"),n(12,"Profile"),e()(),t(13,"div",7)(14,"div",8),d(15,"img",9),t(16,"label",10)(17,"input",11),u("change",function(g){return o.onPickAvatar(g)}),e(),t(18,"mat-icon"),n(19,"camera_alt"),e()()(),t(20,"form",12)(21,"mat-form-field",13)(22,"mat-label"),n(23,"Full name"),e(),d(24,"input",14),p(25,X,2,0,"mat-error",15),e(),t(26,"mat-form-field",16)(27,"mat-label"),n(28,"Date of birth"),e(),d(29,"input",17),e(),t(30,"mat-form-field",16)(31,"mat-label"),n(32,"Phone"),e(),d(33,"input",18),e(),t(34,"mat-form-field",16)(35,"mat-label"),n(36,"Country"),e(),t(37,"mat-select",19),p(38,ee,2,2,"mat-option",20),e()(),t(39,"mat-form-field",16)(40,"mat-label"),n(41,"Language"),e(),t(42,"mat-select",21),p(43,te,2,2,"mat-option",20),e()(),t(44,"mat-form-field",13)(45,"mat-label"),n(46,"Time zone"),e(),t(47,"mat-select",22),p(48,ne,2,2,"mat-option",20),e()(),t(49,"div",23)(50,"button",24),u("click",function(){return o.saveProfile()}),t(51,"mat-icon"),n(52,"save"),e(),n(53," Save profile "),e()()()()(),t(54,"section",5)(55,"header",6)(56,"mat-icon"),n(57,"lock_reset"),e(),t(58,"h3"),n(59,"Change password"),e()(),t(60,"form",25)(61,"mat-form-field",13)(62,"mat-label"),n(63,"Current password"),e(),d(64,"input",26),p(65,oe,2,0,"mat-error",15),e(),t(66,"mat-form-field",16)(67,"mat-label"),n(68,"New password"),e(),d(69,"input",27),p(70,ie,2,0,"mat-error",15)(71,re,2,0,"mat-error",15)(72,ae,2,0,"mat-error",15),e(),t(73,"mat-form-field",16)(74,"mat-label"),n(75,"Confirm new password"),e(),d(76,"input",28),p(77,le,2,0,"mat-error",15),e(),t(78,"div",23)(79,"button",29),u("click",function(){return o.changePassword()}),t(80,"mat-icon"),n(81,"key"),e(),n(82," Update password "),e()()()(),t(83,"section",5)(84,"header",6)(85,"mat-icon"),n(86,"notifications_active"),e(),t(87,"h3"),n(88,"Notifications"),e()(),t(89,"form",30)(90,"div",31)(91,"div",32)(92,"div",33),n(93,"Channels"),e(),t(94,"mat-slide-toggle",34),n(95,"In-app push"),e(),t(96,"mat-slide-toggle",35),n(97,"Email"),e()(),t(98,"div",32)(99,"div",33),n(100,"Topics"),e(),t(101,"mat-slide-toggle",36),n(102,"Appointment reminders"),e(),t(103,"mat-slide-toggle",37),n(104,"Chat & replies"),e(),t(105,"mat-slide-toggle",38),n(106,"Tips & promotions"),e()()(),t(107,"div",23)(108,"button",29),u("click",function(){return o.saveNotifications()}),t(109,"mat-icon"),n(110,"save"),e(),n(111," Save preferences "),e()()()()()()),m&2&&(a(15),l("src",o.avatarUrl(),C),a(5),l("formGroup",o.profileForm),a(5),l("ngIf",o.profileForm.controls.fullName.invalid&&o.profileForm.controls.fullName.touched),a(13),l("ngForOf",o.countries),a(5),l("ngForOf",o.languages),a(5),l("ngForOf",o.timezones),a(12),l("formGroup",o.passwordForm),a(4),l("type","password"),a(),l("ngIf",o.passwordForm.controls.oldPassword.invalid&&o.passwordForm.controls.oldPassword.touched),a(4),l("type","password"),a(),l("ngIf",o.passwordForm.controls.newPassword.hasError("required")&&o.passwordForm.controls.newPassword.touched),a(),l("ngIf",o.passwordForm.controls.newPassword.hasError("minlength")&&o.passwordForm.controls.newPassword.touched),a(),l("ngIf",o.passwordForm.controls.newPassword.hasError("pattern")&&o.passwordForm.controls.newPassword.touched),a(4),l("type","password"),a(),l("ngIf",o.passwordForm.hasError("passwordMismatch")&&o.passwordForm.controls.confirm.touched),a(12),l("formGroup",o.notiForm))},dependencies:[x,P,M,k,y,S,E,O,N,F,q,R,I,T,Q,J,G,z,A,U,D,L,H,$,B,Z,Y,j],styles:['.settings-wrap[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:1rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:900;letter-spacing:.3px}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .glowdot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#71c2ff,#3b8bd3 40%,transparent 65%);box-shadow:0 0 24px #3b8bd3cc}.grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(2,minmax(0,1fr))}@media (max-width: 1080px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card.neo[_ngcontent-%COMP%]{position:relative;background:linear-gradient(180deg,#ffffff0a,#ffffff05);border:1px solid rgba(255,255,255,.08);border-radius:16px;box-shadow:0 20px 60px #00000073;padding:.9rem;overflow:hidden}.card.neo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:conic-gradient(from 0deg,#71c2ffbf,#b78cffbf,#1db7a0bf,#71c2ffbf);filter:blur(18px);opacity:.18;transition:opacity .25s var(--ease);z-index:0}.card.neo[_ngcontent-%COMP%]:hover:before{opacity:.28}.section-head[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;gap:.6rem;margin-bottom:.55rem}.section-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:800;letter-spacing:.2px}.section-head[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1);background:#ffffff0f;border-radius:12px;padding:.35rem}.profile[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:auto 1fr;gap:1rem;align-items:start}.avatar[_ngcontent-%COMP%]{position:relative;width:92px;height:92px;border-radius:50%;overflow:hidden;border:1px solid rgba(255,255,255,.1);box-shadow:0 10px 25px #00000059}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{position:absolute;right:-8px;bottom:-8px;width:38px;height:38px;border-radius:50%;display:grid;place-items:center;background:#ffffff1f;border:1px solid rgba(255,255,255,.18);cursor:pointer}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:1fr 1fr}.field.full[_ngcontent-%COMP%]{grid-column:1/-1}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.5rem}.pwd[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:1fr 1fr}.pwd[_ngcontent-%COMP%]   .field.full[_ngcontent-%COMP%]{grid-column:1/-1}.notis[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr 1fr}@media (max-width: 900px){.notis[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.notis[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:grid;gap:.35rem}.notis[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.2px;opacity:.95}.neon[_ngcontent-%COMP%]{position:relative;border-radius:12px;box-shadow:0 8px 30px #3b8bd340}.neon[_ngcontent-%COMP%]:hover{box-shadow:0 12px 38px #3b8bd359}.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-text-field__input[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important;line-height:1!important}.mat-mdc-form-field[_ngcontent-%COMP%]{--mat-form-field-container-vertical-padding: 15px}']})};function me(i){let r=i.get("newPassword")?.value,m=i.get("confirm")?.value;return!r||!m||r===m?null:{passwordMismatch:!0}}export{W as SettingsComponent};
