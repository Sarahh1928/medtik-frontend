import{b as j}from"./chunk-7E725CH7.js";import"./chunk-F5X5MWHG.js";import{b as K}from"./chunk-XGLVXY7I.js";import{a as L,b as G}from"./chunk-Y5ANY4EP.js";import"./chunk-MS4AQ6UA.js";import{d as V}from"./chunk-ZCFZR4S3.js";import"./chunk-3YF2UIUM.js";import"./chunk-4K5T2QBN.js";import{a as k,b as A,h as D,i as I,m as R,n as q}from"./chunk-LCR2LKFI.js";import"./chunk-BR5LHSVS.js";import"./chunk-OY7Y436C.js";import"./chunk-YCVTR2B7.js";import"./chunk-TR43TC6U.js";import{A as E,b as _,d as m,f as v,g as x,h as g,j as r,l as O,o as y,r as S}from"./chunk-YN6JIHUF.js";import{b as z}from"./chunk-4EZBTZIU.js";import{a as U,b as T}from"./chunk-W6QHVSTW.js";import{Y as F,Z as N}from"./chunk-YSTQL2PO.js";import{$ as f,Bc as M,Ga as d,Mc as C,Nb as a,Ra as b,Wa as c,lb as l,mb as o,nb as t,oa as h,ob as p,xb as P}from"./chunk-HKUWCROW.js";import"./chunk-JKOY2XUY.js";function H(n,i){n&1&&(o(0,"mat-error"),a(1," Required. "),t())}function Y(n,i){n&1&&(o(0,"mat-error"),a(1," Required. "),t())}function Z(n,i){n&1&&(o(0,"mat-error"),a(1," Min 8 characters. "),t())}function $(n,i){n&1&&(o(0,"mat-error"),a(1," Use letters and numbers. "),t())}function J(n,i){n&1&&(o(0,"mat-error"),a(1," Passwords don\u2019t match. "),t())}var B=class n{snack=f(L);auth=f(z);avatarUrl=h("https://i.pravatar.cc/120?img=13");countries=[{code:"EG",name:"Egypt"},{code:"SA",name:"Saudi Arabia"},{code:"AE",name:"United Arab Emirates"},{code:"US",name:"United States"},{code:"GB",name:"United Kingdom"}];languages=[{code:"en",name:"English"},{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"}];timezones=["Africa/Cairo","Asia/Riyadh","Asia/Dubai","Europe/London","America/New_York"];profileForm=new g({fullName:new r("Sarah Ahmed",{nonNullable:!0,validators:[m.required,m.minLength(3)]}),dob:new r("1992-07-12"),phone:new r("+20 10 1234 5678"),country:new r("EG",{nonNullable:!0}),language:new r("en",{nonNullable:!0}),timezone:new r("Africa/Cairo",{nonNullable:!0})});onPickAvatar(i){let e=i.target?.files?.[0];if(e){try{URL.revokeObjectURL(this.avatarUrl())}catch{}this.avatarUrl.set(URL.createObjectURL(e)),this.snack.open("Photo updated (local preview)","OK",{duration:1500})}}saveProfile(){if(this.profileForm.invalid){this.profileForm.markAllAsTouched();return}this.snack.open("Profile saved","OK",{duration:1200})}passwordForm=new g({oldPassword:new r("",{nonNullable:!0,validators:[m.required]}),newPassword:new r("",{nonNullable:!0,validators:[m.required,m.minLength(8),m.pattern(/^(?=.*[A-Za-z])(?=.*\d).{8,}$/)]}),confirm:new r("",{nonNullable:!0,validators:[m.required]})},{validators:[Q]});changePassword(){if(this.passwordForm.invalid){this.passwordForm.markAllAsTouched();return}let{oldPassword:i,newPassword:s,confirm:e}=this.passwordForm.getRawValue(),w={currentPassword:i,newPassword:s,verifyPassword:e};this.auth.changePassword(w).subscribe({next:u=>{this.snack.open(u.message,"OK",{duration:2e3}),this.passwordForm.reset({oldPassword:"",newPassword:"",confirm:""})},error:u=>{this.snack.open(u,"Close",{duration:2500})}}),this.passwordForm.reset({oldPassword:"",newPassword:"",confirm:""}),this.snack.open("Password changed","OK",{duration:1400})}notiForm=new g({push:new r(!0,{nonNullable:!0}),email:new r(!0,{nonNullable:!0}),appt:new r(!0,{nonNullable:!0}),chat:new r(!0,{nonNullable:!0}),marketing:new r(!1,{nonNullable:!0})});saveNotifications(){this.snack.open("Notification preferences saved","OK",{duration:1200})}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=b({type:n,selectors:[["app-settings"]],decls:36,vars:9,consts:[[1,"settings-wrap"],[1,"toolbar"],[1,"title"],[1,"glowdot"],[1,"grid"],[1,"card","neo"],[1,"section-head"],[1,"pwd",3,"formGroup"],["appearance","outline",1,"field","full"],["matInput","","formControlName","oldPassword","autocomplete","current-password",3,"type"],[4,"ngIf"],["appearance","outline",1,"field"],["matInput","","formControlName","newPassword","autocomplete","new-password",3,"type"],["matInput","","formControlName","confirm","autocomplete","new-password",3,"type"],[1,"actions"],["mat-stroked-button","",1,"neon",3,"click"]],template:function(s,e){s&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),p(3,"span",3),o(4,"h2"),a(5,"Settings"),t()()(),o(6,"div",4)(7,"section",5)(8,"header",6)(9,"mat-icon"),a(10,"lock_reset"),t(),o(11,"h3"),a(12,"Change password"),t()(),o(13,"form",7)(14,"mat-form-field",8)(15,"mat-label"),a(16,"Current password"),t(),p(17,"input",9),c(18,H,2,0,"mat-error",10),t(),o(19,"mat-form-field",11)(20,"mat-label"),a(21,"New password"),t(),p(22,"input",12),c(23,Y,2,0,"mat-error",10)(24,Z,2,0,"mat-error",10)(25,$,2,0,"mat-error",10),t(),o(26,"mat-form-field",11)(27,"mat-label"),a(28,"Confirm new password"),t(),p(29,"input",13),c(30,J,2,0,"mat-error",10),t(),o(31,"div",14)(32,"button",15),P("click",function(){return e.changePassword()}),o(33,"mat-icon"),a(34,"key"),t(),a(35," Update password "),t()()()()()()),s&2&&(d(13),l("formGroup",e.passwordForm),d(4),l("type","password"),d(),l("ngIf",e.passwordForm.controls.oldPassword.invalid&&e.passwordForm.controls.oldPassword.touched),d(4),l("type","password"),d(),l("ngIf",e.passwordForm.controls.newPassword.hasError("required")&&e.passwordForm.controls.newPassword.touched),d(),l("ngIf",e.passwordForm.controls.newPassword.hasError("minlength")&&e.passwordForm.controls.newPassword.touched),d(),l("ngIf",e.passwordForm.controls.newPassword.hasError("pattern")&&e.passwordForm.controls.newPassword.touched),d(4),l("type","password"),d(),l("ngIf",e.passwordForm.hasError("passwordMismatch")&&e.passwordForm.controls.confirm.touched))},dependencies:[C,M,E,O,_,v,x,y,S,T,U,N,F,K,I,D,k,A,q,R,V,j,G],styles:['.settings-wrap[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:1rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.6rem}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:900;letter-spacing:.3px}.toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .glowdot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#71c2ff,#3b8bd3 40%,transparent 65%);box-shadow:0 0 24px #3b8bd3cc}.grid[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(1)}@media (max-width: 1080px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card.neo[_ngcontent-%COMP%]{position:relative;background:linear-gradient(180deg,#ffffff0a,#ffffff05);border:1px solid rgba(255,255,255,.08);border-radius:16px;box-shadow:0 20px 60px #00000073;padding:.9rem;overflow:hidden}.card.neo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:conic-gradient(from 0deg,#71c2ffbf,#b78cffbf,#1db7a0bf,#71c2ffbf);filter:blur(18px);opacity:.18;transition:opacity .25s var(--ease);z-index:0}.card.neo[_ngcontent-%COMP%]:hover:before{opacity:.28}.section-head[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;align-items:center;gap:.6rem;margin-bottom:.55rem}.section-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:800;letter-spacing:.2px}.section-head[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1);background:#ffffff0f;border-radius:12px;padding:.35rem}.profile[_ngcontent-%COMP%]{position:relative;z-index:1;display:grid;grid-template-columns:auto 1fr;gap:1rem;align-items:start}.avatar[_ngcontent-%COMP%]{position:relative;width:92px;height:92px;border-radius:50%;overflow:hidden;border:1px solid rgba(255,255,255,.1);box-shadow:0 10px 25px #00000059}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{position:absolute;right:-8px;bottom:-8px;width:38px;height:38px;border-radius:50%;display:grid;place-items:center;background:#ffffff1f;border:1px solid rgba(255,255,255,.18);cursor:pointer}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.avatar[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.form[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:1fr 1fr}.field.full[_ngcontent-%COMP%]{grid-column:1/-1}.actions[_ngcontent-%COMP%]{display:flex;justify-content:left;margin-top:.5rem}.pwd[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:1fr 1fr}.pwd[_ngcontent-%COMP%]   .field.full[_ngcontent-%COMP%]{grid-column:1/-1}.notis[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:1fr 1fr}@media (max-width: 900px){.notis[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.notis[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:grid;gap:.35rem}.notis[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.2px;opacity:.95}.neon[_ngcontent-%COMP%]{position:relative;border-radius:12px;box-shadow:0 8px 30px #3b8bd340}.neon[_ngcontent-%COMP%]:hover{box-shadow:0 12px 38px #3b8bd359}.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-text-field__input[_ngcontent-%COMP%]{padding-top:12px!important;padding-bottom:12px!important;line-height:1!important}.mat-mdc-form-field[_ngcontent-%COMP%]{--mat-form-field-container-vertical-padding: 15px}']})};function Q(n){let i=n.get("newPassword")?.value,s=n.get("confirm")?.value;return!i||!s||i===s?null:{passwordMismatch:!0}}export{B as DoctorSettingsComponent};
